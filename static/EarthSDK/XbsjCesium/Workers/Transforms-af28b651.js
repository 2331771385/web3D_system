define(["exports","./when-cbf8cd21","./Check-35e1a91d","./Math-e66fad2a","./Cartesian2-72f33550","./RuntimeError-f4c64df1","./buildModuleUrl-378b47a7"],function(e,A,i,G,P,X,l){"use strict";function n(e){this._ellipsoid=A.defaultValue(e,P.Ellipsoid.WGS84),this._semimajorAxis=this._ellipsoid.maximumRadius,this._oneOverSemimajorAxis=1/this._semimajorAxis}Object.defineProperties(n.prototype,{ellipsoid:{get:function(){return this._ellipsoid}}}),n.prototype.project=function(e,n){var t=this._semimajorAxis,a=e.longitude*t,r=e.latitude*t,i=e.height;return A.defined(n)?(n.x=a,n.y=r,n.z=i,n):new P.Cartesian3(a,r,i)},n.prototype.unproject=function(e,n){var t=this._oneOverSemimajorAxis,a=e.x*t,r=e.y*t,i=e.z;return A.defined(n)?(n.longitude=a,n.latitude=r,n.height=i,n):new P.Cartographic(a,r,i)};var s=Object.freeze({OUTSIDE:-1,INTERSECTING:0,INSIDE:1});function u(e,n){this.start=A.defaultValue(e,0),this.stop=A.defaultValue(n,0)}function J(e,n,t,a,r,i,s,u,o){this[0]=A.defaultValue(e,0),this[1]=A.defaultValue(a,0),this[2]=A.defaultValue(s,0),this[3]=A.defaultValue(n,0),this[4]=A.defaultValue(r,0),this[5]=A.defaultValue(u,0),this[6]=A.defaultValue(t,0),this[7]=A.defaultValue(i,0),this[8]=A.defaultValue(o,0)}J.packedLength=9,J.pack=function(e,n,t){return t=A.defaultValue(t,0),n[t++]=e[0],n[t++]=e[1],n[t++]=e[2],n[t++]=e[3],n[t++]=e[4],n[t++]=e[5],n[t++]=e[6],n[t++]=e[7],n[t++]=e[8],n},J.unpack=function(e,n,t){return n=A.defaultValue(n,0),A.defined(t)||(t=new J),t[0]=e[n++],t[1]=e[n++],t[2]=e[n++],t[3]=e[n++],t[4]=e[n++],t[5]=e[n++],t[6]=e[n++],t[7]=e[n++],t[8]=e[n++],t},J.clone=function(e,n){if(A.defined(e))return A.defined(n)?(n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[4]=e[4],n[5]=e[5],n[6]=e[6],n[7]=e[7],n[8]=e[8],n):new J(e[0],e[3],e[6],e[1],e[4],e[7],e[2],e[5],e[8])},J.fromArray=function(e,n,t){return n=A.defaultValue(n,0),A.defined(t)||(t=new J),t[0]=e[n],t[1]=e[n+1],t[2]=e[n+2],t[3]=e[n+3],t[4]=e[n+4],t[5]=e[n+5],t[6]=e[n+6],t[7]=e[n+7],t[8]=e[n+8],t},J.fromColumnMajorArray=function(e,n){return J.clone(e,n)},J.fromRowMajorArray=function(e,n){return A.defined(n)?(n[0]=e[0],n[1]=e[3],n[2]=e[6],n[3]=e[1],n[4]=e[4],n[5]=e[7],n[6]=e[2],n[7]=e[5],n[8]=e[8],n):new J(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8])},J.fromQuaternion=function(e,n){var t=e.x*e.x,a=e.x*e.y,r=e.x*e.z,i=e.x*e.w,s=e.y*e.y,u=e.y*e.z,o=e.y*e.w,l=e.z*e.z,d=e.z*e.w,c=e.w*e.w,f=t-s-l+c,m=2*(a-d),h=2*(r+o),y=2*(a+d),p=s-t-l+c,C=2*(u-i),w=2*(r-o),x=2*(u+i),v=-t-s+l+c;return A.defined(n)?(n[0]=f,n[1]=y,n[2]=w,n[3]=m,n[4]=p,n[5]=x,n[6]=h,n[7]=C,n[8]=v,n):new J(f,m,h,y,p,C,w,x,v)},J.fromHeadingPitchRoll=function(e,n){var t=Math.cos(-e.pitch),a=Math.cos(-e.heading),r=Math.cos(e.roll),i=Math.sin(-e.pitch),s=Math.sin(-e.heading),u=Math.sin(e.roll),o=t*a,l=-r*s+u*i*a,d=u*s+r*i*a,c=t*s,f=r*a+u*i*s,m=-u*a+r*i*s,h=-i,y=u*t,p=r*t;return A.defined(n)?(n[0]=o,n[1]=c,n[2]=h,n[3]=l,n[4]=f,n[5]=y,n[6]=d,n[7]=m,n[8]=p,n):new J(o,l,d,c,f,m,h,y,p)},J.fromScale=function(e,n){return A.defined(n)?(n[0]=e.x,n[1]=0,n[2]=0,n[3]=0,n[4]=e.y,n[5]=0,n[6]=0,n[7]=0,n[8]=e.z,n):new J(e.x,0,0,0,e.y,0,0,0,e.z)},J.fromUniformScale=function(e,n){return A.defined(n)?(n[0]=e,n[1]=0,n[2]=0,n[3]=0,n[4]=e,n[5]=0,n[6]=0,n[7]=0,n[8]=e,n):new J(e,0,0,0,e,0,0,0,e)},J.fromCrossProduct=function(e,n){return A.defined(n)?(n[0]=0,n[1]=e.z,n[2]=-e.y,n[3]=-e.z,n[4]=0,n[5]=e.x,n[6]=e.y,n[7]=-e.x,n[8]=0,n):new J(0,-e.z,e.y,e.z,0,-e.x,-e.y,e.x,0)},J.fromRotationX=function(e,n){var t=Math.cos(e),a=Math.sin(e);return A.defined(n)?(n[0]=1,n[1]=0,n[2]=0,n[3]=0,n[4]=t,n[5]=a,n[6]=0,n[7]=-a,n[8]=t,n):new J(1,0,0,0,t,-a,0,a,t)},J.fromRotationY=function(e,n){var t=Math.cos(e),a=Math.sin(e);return A.defined(n)?(n[0]=t,n[1]=0,n[2]=-a,n[3]=0,n[4]=1,n[5]=0,n[6]=a,n[7]=0,n[8]=t,n):new J(t,0,a,0,1,0,-a,0,t)},J.fromRotationZ=function(e,n){var t=Math.cos(e),a=Math.sin(e);return A.defined(n)?(n[0]=t,n[1]=a,n[2]=0,n[3]=-a,n[4]=t,n[5]=0,n[6]=0,n[7]=0,n[8]=1,n):new J(t,-a,0,a,t,0,0,0,1)},J.toArray=function(e,n){return A.defined(n)?(n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[4]=e[4],n[5]=e[5],n[6]=e[6],n[7]=e[7],n[8]=e[8],n):[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8]]},J.getElementIndex=function(e,n){return 3*e+n},J.getColumn=function(e,n,t){var a=3*n,r=e[a],i=e[1+a],s=e[2+a];return t.x=r,t.y=i,t.z=s,t},J.setColumn=function(e,n,t,a){var r=3*n;return(a=J.clone(e,a))[r]=t.x,a[1+r]=t.y,a[2+r]=t.z,a},J.getRow=function(e,n,t){var a=e[n],r=e[n+3],i=e[n+6];return t.x=a,t.y=r,t.z=i,t},J.setRow=function(e,n,t,a){return(a=J.clone(e,a))[n]=t.x,a[n+3]=t.y,a[n+6]=t.z,a};var t=new P.Cartesian3;J.getScale=function(e,n){return n.x=P.Cartesian3.magnitude(P.Cartesian3.fromElements(e[0],e[1],e[2],t)),n.y=P.Cartesian3.magnitude(P.Cartesian3.fromElements(e[3],e[4],e[5],t)),n.z=P.Cartesian3.magnitude(P.Cartesian3.fromElements(e[6],e[7],e[8],t)),n};var a=new P.Cartesian3;J.getMaximumScale=function(e){return J.getScale(e,a),P.Cartesian3.maximumComponent(a)},J.multiply=function(e,n,t){var a=e[0]*n[0]+e[3]*n[1]+e[6]*n[2],r=e[1]*n[0]+e[4]*n[1]+e[7]*n[2],i=e[2]*n[0]+e[5]*n[1]+e[8]*n[2],s=e[0]*n[3]+e[3]*n[4]+e[6]*n[5],u=e[1]*n[3]+e[4]*n[4]+e[7]*n[5],o=e[2]*n[3]+e[5]*n[4]+e[8]*n[5],l=e[0]*n[6]+e[3]*n[7]+e[6]*n[8],d=e[1]*n[6]+e[4]*n[7]+e[7]*n[8],c=e[2]*n[6]+e[5]*n[7]+e[8]*n[8];return t[0]=a,t[1]=r,t[2]=i,t[3]=s,t[4]=u,t[5]=o,t[6]=l,t[7]=d,t[8]=c,t},J.add=function(e,n,t){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t},J.subtract=function(e,n,t){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t},J.multiplyByVector=function(e,n,t){var a=n.x,r=n.y,i=n.z,s=e[0]*a+e[3]*r+e[6]*i,u=e[1]*a+e[4]*r+e[7]*i,o=e[2]*a+e[5]*r+e[8]*i;return t.x=s,t.y=u,t.z=o,t},J.multiplyByScalar=function(e,n,t){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t},J.multiplyByScale=function(e,n,t){return t[0]=e[0]*n.x,t[1]=e[1]*n.x,t[2]=e[2]*n.x,t[3]=e[3]*n.y,t[4]=e[4]*n.y,t[5]=e[5]*n.y,t[6]=e[6]*n.z,t[7]=e[7]*n.z,t[8]=e[8]*n.z,t},J.negate=function(e,n){return n[0]=-e[0],n[1]=-e[1],n[2]=-e[2],n[3]=-e[3],n[4]=-e[4],n[5]=-e[5],n[6]=-e[6],n[7]=-e[7],n[8]=-e[8],n},J.transpose=function(e,n){var t=e[0],a=e[3],r=e[6],i=e[1],s=e[4],u=e[7],o=e[2],l=e[5],d=e[8];return n[0]=t,n[1]=a,n[2]=r,n[3]=i,n[4]=s,n[5]=u,n[6]=o,n[7]=l,n[8]=d,n};var r=new P.Cartesian3(1,1,1);J.getRotation=function(e,n){var t=P.Cartesian3.divideComponents(r,J.getScale(e,a),a);return n=J.multiplyByScale(e,t,n)};var m=[1,0,0],h=[2,2,1];function o(e){for(var n=0,t=0;t<3;++t){var a=e[J.getElementIndex(h[t],m[t])];n+=2*a*a}return Math.sqrt(n)}function d(e,n){for(var t=G.CesiumMath.EPSILON15,a=0,r=1,i=0;i<3;++i){var s=Math.abs(e[J.getElementIndex(h[i],m[i])]);a<s&&(r=i,a=s)}var u=1,o=0,l=m[r],d=h[r];if(Math.abs(e[J.getElementIndex(d,l)])>t){var c,f=(e[J.getElementIndex(d,d)]-e[J.getElementIndex(l,l)])/2/e[J.getElementIndex(d,l)];o=(c=f<0?-1/(-f+Math.sqrt(1+f*f)):1/(f+Math.sqrt(1+f*f)))*(u=1/Math.sqrt(1+c*c))}return(n=J.clone(J.IDENTITY,n))[J.getElementIndex(l,l)]=n[J.getElementIndex(d,d)]=u,n[J.getElementIndex(d,l)]=o,n[J.getElementIndex(l,d)]=-o,n}var c=new J,f=new J;function H(e,n,t,a){this.x=A.defaultValue(e,0),this.y=A.defaultValue(n,0),this.z=A.defaultValue(t,0),this.w=A.defaultValue(a,0)}J.computeEigenDecomposition=function(e,n){var t=G.CesiumMath.EPSILON20,a=0,r=0;A.defined(n)||(n={});for(var i=n.unitary=J.clone(J.IDENTITY,n.unitary),s=n.diagonal=J.clone(e,n.diagonal),u=t*function(e){for(var n=0,t=0;t<9;++t){var a=e[t];n+=a*a}return Math.sqrt(n)}(s);r<10&&o(s)>u;)d(s,c),J.transpose(c,f),J.multiply(s,c,s),J.multiply(f,s,s),J.multiply(i,c,i),2<++a&&(++r,a=0);return n},J.abs=function(e,n){return n[0]=Math.abs(e[0]),n[1]=Math.abs(e[1]),n[2]=Math.abs(e[2]),n[3]=Math.abs(e[3]),n[4]=Math.abs(e[4]),n[5]=Math.abs(e[5]),n[6]=Math.abs(e[6]),n[7]=Math.abs(e[7]),n[8]=Math.abs(e[8]),n},J.determinant=function(e){var n=e[0],t=e[3],a=e[6],r=e[1],i=e[4],s=e[7],u=e[2],o=e[5],l=e[8];return n*(i*l-o*s)+r*(o*a-t*l)+u*(t*s-i*a)},J.inverse=function(e,n){var t=e[0],a=e[1],r=e[2],i=e[3],s=e[4],u=e[5],o=e[6],l=e[7],d=e[8],c=J.determinant(e);return n[0]=s*d-l*u,n[1]=l*r-a*d,n[2]=a*u-s*r,n[3]=o*u-i*d,n[4]=t*d-o*r,n[5]=i*r-t*u,n[6]=i*l-o*s,n[7]=o*a-t*l,n[8]=t*s-i*a,J.multiplyByScalar(n,1/c,n)},J.equals=function(e,n){return e===n||A.defined(e)&&A.defined(n)&&e[0]===n[0]&&e[1]===n[1]&&e[2]===n[2]&&e[3]===n[3]&&e[4]===n[4]&&e[5]===n[5]&&e[6]===n[6]&&e[7]===n[7]&&e[8]===n[8]},J.equalsEpsilon=function(e,n,t){return t=A.defaultValue(t,0),e===n||A.defined(e)&&A.defined(n)&&Math.abs(e[0]-n[0])<=t&&Math.abs(e[1]-n[1])<=t&&Math.abs(e[2]-n[2])<=t&&Math.abs(e[3]-n[3])<=t&&Math.abs(e[4]-n[4])<=t&&Math.abs(e[5]-n[5])<=t&&Math.abs(e[6]-n[6])<=t&&Math.abs(e[7]-n[7])<=t&&Math.abs(e[8]-n[8])<=t},J.IDENTITY=Object.freeze(new J(1,0,0,0,1,0,0,0,1)),J.ZERO=Object.freeze(new J(0,0,0,0,0,0,0,0,0)),J.COLUMN0ROW0=0,J.COLUMN0ROW1=1,J.COLUMN0ROW2=2,J.COLUMN1ROW0=3,J.COLUMN1ROW1=4,J.COLUMN1ROW2=5,J.COLUMN2ROW0=6,J.COLUMN2ROW1=7,J.COLUMN2ROW2=8,Object.defineProperties(J.prototype,{length:{get:function(){return J.packedLength}}}),J.prototype.clone=function(e){return J.clone(this,e)},J.prototype.equals=function(e){return J.equals(this,e)},J.equalsArray=function(e,n,t){return e[0]===n[t]&&e[1]===n[t+1]&&e[2]===n[t+2]&&e[3]===n[t+3]&&e[4]===n[t+4]&&e[5]===n[t+5]&&e[6]===n[t+6]&&e[7]===n[t+7]&&e[8]===n[t+8]},J.prototype.equalsEpsilon=function(e,n){return J.equalsEpsilon(this,e,n)},J.prototype.toString=function(){return"("+this[0]+", "+this[3]+", "+this[6]+")\n("+this[1]+", "+this[4]+", "+this[7]+")\n("+this[2]+", "+this[5]+", "+this[8]+")"},H.fromElements=function(e,n,t,a,r){return A.defined(r)?(r.x=e,r.y=n,r.z=t,r.w=a,r):new H(e,n,t,a)},H.fromColor=function(e,n){return A.defined(n)?(n.x=e.red,n.y=e.green,n.z=e.blue,n.w=e.alpha,n):new H(e.red,e.green,e.blue,e.alpha)},H.clone=function(e,n){if(A.defined(e))return A.defined(n)?(n.x=e.x,n.y=e.y,n.z=e.z,n.w=e.w,n):new H(e.x,e.y,e.z,e.w)},H.packedLength=4,H.pack=function(e,n,t){return t=A.defaultValue(t,0),n[t++]=e.x,n[t++]=e.y,n[t++]=e.z,n[t]=e.w,n},H.unpack=function(e,n,t){return n=A.defaultValue(n,0),A.defined(t)||(t=new H),t.x=e[n++],t.y=e[n++],t.z=e[n++],t.w=e[n],t},H.packArray=function(e,n){var t=e.length,a=4*t;if(A.defined(n)){if(!Array.isArray(n)&&n.length!==a)throw new i.DeveloperError("If result is a typed array, it must have exactly array.length * 4 elements");n.length!==a&&(n.length=a)}else n=new Array(a);for(var r=0;r<t;++r)H.pack(e[r],n,4*r);return n},H.unpackArray=function(e,n){var t=e.length;A.defined(n)?n.length=t/4:n=new Array(t/4);for(var a=0;a<t;a+=4){var r=a/4;n[r]=H.unpack(e,a,n[r])}return n},H.fromArray=H.unpack,H.maximumComponent=function(e){return Math.max(e.x,e.y,e.z,e.w)},H.minimumComponent=function(e){return Math.min(e.x,e.y,e.z,e.w)},H.minimumByComponent=function(e,n,t){return t.x=Math.min(e.x,n.x),t.y=Math.min(e.y,n.y),t.z=Math.min(e.z,n.z),t.w=Math.min(e.w,n.w),t},H.maximumByComponent=function(e,n,t){return t.x=Math.max(e.x,n.x),t.y=Math.max(e.y,n.y),t.z=Math.max(e.z,n.z),t.w=Math.max(e.w,n.w),t},H.magnitudeSquared=function(e){return e.x*e.x+e.y*e.y+e.z*e.z+e.w*e.w},H.magnitude=function(e){return Math.sqrt(H.magnitudeSquared(e))};var y=new H;H.distance=function(e,n){return H.subtract(e,n,y),H.magnitude(y)},H.distanceSquared=function(e,n){return H.subtract(e,n,y),H.magnitudeSquared(y)},H.normalize=function(e,n){var t=H.magnitude(e);return n.x=e.x/t,n.y=e.y/t,n.z=e.z/t,n.w=e.w/t,n},H.dot=function(e,n){return e.x*n.x+e.y*n.y+e.z*n.z+e.w*n.w},H.multiplyComponents=function(e,n,t){return t.x=e.x*n.x,t.y=e.y*n.y,t.z=e.z*n.z,t.w=e.w*n.w,t},H.divideComponents=function(e,n,t){return t.x=e.x/n.x,t.y=e.y/n.y,t.z=e.z/n.z,t.w=e.w/n.w,t},H.add=function(e,n,t){return t.x=e.x+n.x,t.y=e.y+n.y,t.z=e.z+n.z,t.w=e.w+n.w,t},H.subtract=function(e,n,t){return t.x=e.x-n.x,t.y=e.y-n.y,t.z=e.z-n.z,t.w=e.w-n.w,t},H.multiplyByScalar=function(e,n,t){return t.x=e.x*n,t.y=e.y*n,t.z=e.z*n,t.w=e.w*n,t},H.divideByScalar=function(e,n,t){return t.x=e.x/n,t.y=e.y/n,t.z=e.z/n,t.w=e.w/n,t},H.negate=function(e,n){return n.x=-e.x,n.y=-e.y,n.z=-e.z,n.w=-e.w,n},H.abs=function(e,n){return n.x=Math.abs(e.x),n.y=Math.abs(e.y),n.z=Math.abs(e.z),n.w=Math.abs(e.w),n};var p=new H;H.lerp=function(e,n,t,a){return H.multiplyByScalar(n,t,p),a=H.multiplyByScalar(e,1-t,a),H.add(p,a,a)};var C=new H;H.mostOrthogonalAxis=function(e,n){var t=H.normalize(e,C);return H.abs(t,t),n=t.x<=t.y?t.x<=t.z?t.x<=t.w?H.clone(H.UNIT_X,n):H.clone(H.UNIT_W,n):t.z<=t.w?H.clone(H.UNIT_Z,n):H.clone(H.UNIT_W,n):t.y<=t.z?t.y<=t.w?H.clone(H.UNIT_Y,n):H.clone(H.UNIT_W,n):t.z<=t.w?H.clone(H.UNIT_Z,n):H.clone(H.UNIT_W,n)},H.equals=function(e,n){return e===n||A.defined(e)&&A.defined(n)&&e.x===n.x&&e.y===n.y&&e.z===n.z&&e.w===n.w},H.equalsArray=function(e,n,t){return e.x===n[t]&&e.y===n[t+1]&&e.z===n[t+2]&&e.w===n[t+3]},H.equalsEpsilon=function(e,n,t,a){return e===n||A.defined(e)&&A.defined(n)&&G.CesiumMath.equalsEpsilon(e.x,n.x,t,a)&&G.CesiumMath.equalsEpsilon(e.y,n.y,t,a)&&G.CesiumMath.equalsEpsilon(e.z,n.z,t,a)&&G.CesiumMath.equalsEpsilon(e.w,n.w,t,a)},H.ZERO=Object.freeze(new H(0,0,0,0)),H.UNIT_X=Object.freeze(new H(1,0,0,0)),H.UNIT_Y=Object.freeze(new H(0,1,0,0)),H.UNIT_Z=Object.freeze(new H(0,0,1,0)),H.UNIT_W=Object.freeze(new H(0,0,0,1)),H.prototype.clone=function(e){return H.clone(this,e)},H.prototype.equals=function(e){return H.equals(this,e)},H.prototype.equalsEpsilon=function(e,n,t){return H.equalsEpsilon(this,e,n,t)},H.prototype.toString=function(){return"("+this.x+", "+this.y+", "+this.z+", "+this.w+")"};var w=new Float32Array(1),x=256;function Q(e,n,t,a,r,i,s,u,o,l,d,c,f,m,h,y){this[0]=A.defaultValue(e,0),this[1]=A.defaultValue(r,0),this[2]=A.defaultValue(o,0),this[3]=A.defaultValue(f,0),this[4]=A.defaultValue(n,0),this[5]=A.defaultValue(i,0),this[6]=A.defaultValue(l,0),this[7]=A.defaultValue(m,0),this[8]=A.defaultValue(t,0),this[9]=A.defaultValue(s,0),this[10]=A.defaultValue(d,0),this[11]=A.defaultValue(h,0),this[12]=A.defaultValue(a,0),this[13]=A.defaultValue(u,0),this[14]=A.defaultValue(c,0),this[15]=A.defaultValue(y,0)}H.packFloat=function(e,n){if(A.defined(n)||(n=new H),w[0]=e,0===(e=w[0]))return H.clone(H.ZERO,n);var t,a=e<0?1:0;isFinite(e)?(e=Math.abs(e),t=Math.floor(G.CesiumMath.logBase(e,10))+1,e/=Math.pow(10,t)):(e=.1,t=38);var r=e*x;return n.x=Math.floor(r),r=(r-n.x)*x,n.y=Math.floor(r),r=(r-n.y)*x,n.z=Math.floor(r),n.w=2*(t+38)+a,n},H.unpackFloat=function(e){var n=e.w/2,t=Math.floor(n),a=2*(n-t);if(a=-(a=2*a-1),38<=(t-=38))return a<0?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY;var r=a*e.x*.00390625;return r+=a*e.y*(1/65536),(r+=a*e.z*(1/16777216))*Math.pow(10,t)},Q.packedLength=16,Q.pack=function(e,n,t){return t=A.defaultValue(t,0),n[t++]=e[0],n[t++]=e[1],n[t++]=e[2],n[t++]=e[3],n[t++]=e[4],n[t++]=e[5],n[t++]=e[6],n[t++]=e[7],n[t++]=e[8],n[t++]=e[9],n[t++]=e[10],n[t++]=e[11],n[t++]=e[12],n[t++]=e[13],n[t++]=e[14],n[t]=e[15],n},Q.unpack=function(e,n,t){return n=A.defaultValue(n,0),A.defined(t)||(t=new Q),t[0]=e[n++],t[1]=e[n++],t[2]=e[n++],t[3]=e[n++],t[4]=e[n++],t[5]=e[n++],t[6]=e[n++],t[7]=e[n++],t[8]=e[n++],t[9]=e[n++],t[10]=e[n++],t[11]=e[n++],t[12]=e[n++],t[13]=e[n++],t[14]=e[n++],t[15]=e[n],t},Q.clone=function(e,n){if(A.defined(e))return A.defined(n)?(n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[4]=e[4],n[5]=e[5],n[6]=e[6],n[7]=e[7],n[8]=e[8],n[9]=e[9],n[10]=e[10],n[11]=e[11],n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15],n):new Q(e[0],e[4],e[8],e[12],e[1],e[5],e[9],e[13],e[2],e[6],e[10],e[14],e[3],e[7],e[11],e[15])},Q.fromArray=Q.unpack,Q.fromColumnMajorArray=function(e,n){return Q.clone(e,n)},Q.fromRowMajorArray=function(e,n){return A.defined(n)?(n[0]=e[0],n[1]=e[4],n[2]=e[8],n[3]=e[12],n[4]=e[1],n[5]=e[5],n[6]=e[9],n[7]=e[13],n[8]=e[2],n[9]=e[6],n[10]=e[10],n[11]=e[14],n[12]=e[3],n[13]=e[7],n[14]=e[11],n[15]=e[15],n):new Q(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])},Q.fromRotationTranslation=function(e,n,t){return n=A.defaultValue(n,P.Cartesian3.ZERO),A.defined(t)?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=0,t[4]=e[3],t[5]=e[4],t[6]=e[5],t[7]=0,t[8]=e[6],t[9]=e[7],t[10]=e[8],t[11]=0,t[12]=n.x,t[13]=n.y,t[14]=n.z,t[15]=1,t):new Q(e[0],e[3],e[6],n.x,e[1],e[4],e[7],n.y,e[2],e[5],e[8],n.z,0,0,0,1)},Q.fromTranslationQuaternionRotationScale=function(e,n,t,a){A.defined(a)||(a=new Q);var r=t.x,i=t.y,s=t.z,u=n.x*n.x,o=n.x*n.y,l=n.x*n.z,d=n.x*n.w,c=n.y*n.y,f=n.y*n.z,m=n.y*n.w,h=n.z*n.z,y=n.z*n.w,p=n.w*n.w,C=u-c-h+p,w=2*(o-y),x=2*(l+m),v=2*(o+y),g=c-u-h+p,E=2*(f-d),M=2*(l-m),O=2*(f+d),z=-u-c+h+p;return a[0]=C*r,a[1]=v*r,a[2]=M*r,a[3]=0,a[4]=w*i,a[5]=g*i,a[6]=O*i,a[7]=0,a[8]=x*s,a[9]=E*s,a[10]=z*s,a[11]=0,a[12]=e.x,a[13]=e.y,a[14]=e.z,a[15]=1,a},Q.fromTranslationRotationScale=function(e,n){return Q.fromTranslationQuaternionRotationScale(e.translation,e.rotation,e.scale,n)},Q.fromTranslation=function(e,n){return Q.fromRotationTranslation(J.IDENTITY,e,n)},Q.fromScale=function(e,n){return A.defined(n)?(n[0]=e.x,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=e.y,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=e.z,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,n):new Q(e.x,0,0,0,0,e.y,0,0,0,0,e.z,0,0,0,0,1)},Q.fromUniformScale=function(e,n){return A.defined(n)?(n[0]=e,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=e,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=e,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,n):new Q(e,0,0,0,0,e,0,0,0,0,e,0,0,0,0,1)};var v=new P.Cartesian3,g=new P.Cartesian3,E=new P.Cartesian3;Q.fromCamera=function(e,n){var t=e.position,a=e.direction,r=e.up;P.Cartesian3.normalize(a,v),P.Cartesian3.normalize(P.Cartesian3.cross(v,r,g),g),P.Cartesian3.normalize(P.Cartesian3.cross(g,v,E),E);var i=g.x,s=g.y,u=g.z,o=v.x,l=v.y,d=v.z,c=E.x,f=E.y,m=E.z,h=t.x,y=t.y,p=t.z,C=i*-h+s*-y+u*-p,w=c*-h+f*-y+m*-p,x=o*h+l*y+d*p;return A.defined(n)?(n[0]=i,n[1]=c,n[2]=-o,n[3]=0,n[4]=s,n[5]=f,n[6]=-l,n[7]=0,n[8]=u,n[9]=m,n[10]=-d,n[11]=0,n[12]=C,n[13]=w,n[14]=x,n[15]=1,n):new Q(i,s,u,C,c,f,m,w,-o,-l,-d,x,0,0,0,1)},Q.computePerspectiveFieldOfView=function(e,n,t,a,r){var i=1/Math.tan(.5*e),s=i/n,u=(a+t)/(t-a),o=2*a*t/(t-a);return r[0]=s,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=i,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=u,r[11]=-1,r[12]=0,r[13]=0,r[14]=o,r[15]=0,r},Q.computeOrthographicOffCenter=function(e,n,t,a,r,i,s){var u=1/(n-e),o=1/(a-t),l=1/(i-r),d=-(n+e)*u,c=-(a+t)*o,f=-(i+r)*l;return u*=2,o*=2,l*=-2,s[0]=u,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=o,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=l,s[11]=0,s[12]=d,s[13]=c,s[14]=f,s[15]=1,s},Q.computePerspectiveOffCenter=function(e,n,t,a,r,i,s){var u=2*r/(n-e),o=2*r/(a-t),l=(n+e)/(n-e),d=(a+t)/(a-t),c=-(i+r)/(i-r),f=-2*i*r/(i-r);return s[0]=u,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=o,s[6]=0,s[7]=0,s[8]=l,s[9]=d,s[10]=c,s[11]=-1,s[12]=0,s[13]=0,s[14]=f,s[15]=0,s},Q.computeInfinitePerspectiveOffCenter=function(e,n,t,a,r,i){var s=2*r/(n-e),u=2*r/(a-t),o=(n+e)/(n-e),l=(a+t)/(a-t),d=-2*r;return i[0]=s,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=u,i[6]=0,i[7]=0,i[8]=o,i[9]=l,i[10]=-1,i[11]=-1,i[12]=0,i[13]=0,i[14]=d,i[15]=0,i},Q.computeViewportTransformation=function(e,n,t,a){A.defined(a)||(a=new Q),e=A.defaultValue(e,A.defaultValue.EMPTY_OBJECT);var r=A.defaultValue(e.x,0),i=A.defaultValue(e.y,0),s=A.defaultValue(e.width,0),u=A.defaultValue(e.height,0);n=A.defaultValue(n,0);var o=.5*s,l=.5*u,d=.5*((t=A.defaultValue(t,1))-n),c=o,f=l,m=d,h=r+o,y=i+l,p=n+d;return a[0]=c,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=f,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=m,a[11]=0,a[12]=h,a[13]=y,a[14]=p,a[15]=1,a},Q.computeView=function(e,n,t,a,r){return r[0]=a.x,r[1]=t.x,r[2]=-n.x,r[3]=0,r[4]=a.y,r[5]=t.y,r[6]=-n.y,r[7]=0,r[8]=a.z,r[9]=t.z,r[10]=-n.z,r[11]=0,r[12]=-P.Cartesian3.dot(a,e),r[13]=-P.Cartesian3.dot(t,e),r[14]=P.Cartesian3.dot(n,e),r[15]=1,r},Q.toArray=function(e,n){return A.defined(n)?(n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[4]=e[4],n[5]=e[5],n[6]=e[6],n[7]=e[7],n[8]=e[8],n[9]=e[9],n[10]=e[10],n[11]=e[11],n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15],n):[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15]]},Q.getElementIndex=function(e,n){return 4*e+n},Q.getColumn=function(e,n,t){var a=4*n,r=e[a],i=e[1+a],s=e[2+a],u=e[3+a];return t.x=r,t.y=i,t.z=s,t.w=u,t},Q.setColumn=function(e,n,t,a){var r=4*n;return(a=Q.clone(e,a))[r]=t.x,a[1+r]=t.y,a[2+r]=t.z,a[3+r]=t.w,a},Q.setTranslation=function(e,n,t){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=n.x,t[13]=n.y,t[14]=n.z,t[15]=e[15],t};var M=new P.Cartesian3;Q.setScale=function(e,n,t){var a=Q.getScale(e,M),r=P.Cartesian3.divideComponents(n,a,M);return Q.multiplyByScale(e,r,t)},Q.getRow=function(e,n,t){var a=e[n],r=e[n+4],i=e[n+8],s=e[n+12];return t.x=a,t.y=r,t.z=i,t.w=s,t},Q.setRow=function(e,n,t,a){return(a=Q.clone(e,a))[n]=t.x,a[n+4]=t.y,a[n+8]=t.z,a[n+12]=t.w,a};var O=new P.Cartesian3;Q.getScale=function(e,n){return n.x=P.Cartesian3.magnitude(P.Cartesian3.fromElements(e[0],e[1],e[2],O)),n.y=P.Cartesian3.magnitude(P.Cartesian3.fromElements(e[4],e[5],e[6],O)),n.z=P.Cartesian3.magnitude(P.Cartesian3.fromElements(e[8],e[9],e[10],O)),n};var z=new P.Cartesian3;Q.getMaximumScale=function(e){return Q.getScale(e,z),P.Cartesian3.maximumComponent(z)},Q.multiply=function(e,n,t){var a=e[0],r=e[1],i=e[2],s=e[3],u=e[4],o=e[5],l=e[6],d=e[7],c=e[8],f=e[9],m=e[10],h=e[11],y=e[12],p=e[13],C=e[14],w=e[15],x=n[0],v=n[1],g=n[2],E=n[3],M=n[4],O=n[5],z=n[6],S=n[7],_=n[8],T=n[9],R=n[10],b=n[11],N=n[12],I=n[13],A=n[14],P=n[15],D=a*x+u*v+c*g+y*E,U=r*x+o*v+f*g+p*E,q=i*x+l*v+m*g+C*E,F=s*x+d*v+h*g+w*E,V=a*M+u*O+c*z+y*S,W=r*M+o*O+f*z+p*S,L=i*M+l*O+m*z+C*S,B=s*M+d*O+h*z+w*S,k=a*_+u*T+c*R+y*b,j=r*_+o*T+f*R+p*b,Y=i*_+l*T+m*R+C*b,Z=s*_+d*T+h*R+w*b,G=a*N+u*I+c*A+y*P,X=r*N+o*I+f*A+p*P,J=i*N+l*I+m*A+C*P,H=s*N+d*I+h*A+w*P;return t[0]=D,t[1]=U,t[2]=q,t[3]=F,t[4]=V,t[5]=W,t[6]=L,t[7]=B,t[8]=k,t[9]=j,t[10]=Y,t[11]=Z,t[12]=G,t[13]=X,t[14]=J,t[15]=H,t},Q.add=function(e,n,t){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t[9]=e[9]+n[9],t[10]=e[10]+n[10],t[11]=e[11]+n[11],t[12]=e[12]+n[12],t[13]=e[13]+n[13],t[14]=e[14]+n[14],t[15]=e[15]+n[15],t},Q.subtract=function(e,n,t){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t[9]=e[9]-n[9],t[10]=e[10]-n[10],t[11]=e[11]-n[11],t[12]=e[12]-n[12],t[13]=e[13]-n[13],t[14]=e[14]-n[14],t[15]=e[15]-n[15],t},Q.multiplyTransformation=function(e,n,t){var a=e[0],r=e[1],i=e[2],s=e[4],u=e[5],o=e[6],l=e[8],d=e[9],c=e[10],f=e[12],m=e[13],h=e[14],y=n[0],p=n[1],C=n[2],w=n[4],x=n[5],v=n[6],g=n[8],E=n[9],M=n[10],O=n[12],z=n[13],S=n[14],_=a*y+s*p+l*C,T=r*y+u*p+d*C,R=i*y+o*p+c*C,b=a*w+s*x+l*v,N=r*w+u*x+d*v,I=i*w+o*x+c*v,A=a*g+s*E+l*M,P=r*g+u*E+d*M,D=i*g+o*E+c*M,U=a*O+s*z+l*S+f,q=r*O+u*z+d*S+m,F=i*O+o*z+c*S+h;return t[0]=_,t[1]=T,t[2]=R,t[3]=0,t[4]=b,t[5]=N,t[6]=I,t[7]=0,t[8]=A,t[9]=P,t[10]=D,t[11]=0,t[12]=U,t[13]=q,t[14]=F,t[15]=1,t},Q.multiplyByMatrix3=function(e,n,t){var a=e[0],r=e[1],i=e[2],s=e[4],u=e[5],o=e[6],l=e[8],d=e[9],c=e[10],f=n[0],m=n[1],h=n[2],y=n[3],p=n[4],C=n[5],w=n[6],x=n[7],v=n[8],g=a*f+s*m+l*h,E=r*f+u*m+d*h,M=i*f+o*m+c*h,O=a*y+s*p+l*C,z=r*y+u*p+d*C,S=i*y+o*p+c*C,_=a*w+s*x+l*v,T=r*w+u*x+d*v,R=i*w+o*x+c*v;return t[0]=g,t[1]=E,t[2]=M,t[3]=0,t[4]=O,t[5]=z,t[6]=S,t[7]=0,t[8]=_,t[9]=T,t[10]=R,t[11]=0,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},Q.multiplyByTranslation=function(e,n,t){var a=n.x,r=n.y,i=n.z,s=a*e[0]+r*e[4]+i*e[8]+e[12],u=a*e[1]+r*e[5]+i*e[9]+e[13],o=a*e[2]+r*e[6]+i*e[10]+e[14];return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=s,t[13]=u,t[14]=o,t[15]=e[15],t};var S=new P.Cartesian3;Q.multiplyByUniformScale=function(e,n,t){return S.x=n,S.y=n,S.z=n,Q.multiplyByScale(e,S,t)},Q.multiplyByScale=function(e,n,t){var a=n.x,r=n.y,i=n.z;return 1===a&&1===r&&1===i?Q.clone(e,t):(t[0]=a*e[0],t[1]=a*e[1],t[2]=a*e[2],t[3]=0,t[4]=r*e[4],t[5]=r*e[5],t[6]=r*e[6],t[7]=0,t[8]=i*e[8],t[9]=i*e[9],t[10]=i*e[10],t[11]=0,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=1,t)},Q.multiplyByVector=function(e,n,t){var a=n.x,r=n.y,i=n.z,s=n.w,u=e[0]*a+e[4]*r+e[8]*i+e[12]*s,o=e[1]*a+e[5]*r+e[9]*i+e[13]*s,l=e[2]*a+e[6]*r+e[10]*i+e[14]*s,d=e[3]*a+e[7]*r+e[11]*i+e[15]*s;return t.x=u,t.y=o,t.z=l,t.w=d,t},Q.multiplyByPointAsVector=function(e,n,t){var a=n.x,r=n.y,i=n.z,s=e[0]*a+e[4]*r+e[8]*i,u=e[1]*a+e[5]*r+e[9]*i,o=e[2]*a+e[6]*r+e[10]*i;return t.x=s,t.y=u,t.z=o,t},Q.multiplyByPoint=function(e,n,t){var a=n.x,r=n.y,i=n.z,s=e[0]*a+e[4]*r+e[8]*i+e[12],u=e[1]*a+e[5]*r+e[9]*i+e[13],o=e[2]*a+e[6]*r+e[10]*i+e[14];return t.x=s,t.y=u,t.z=o,t},Q.multiplyByScalar=function(e,n,t){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t[9]=e[9]*n,t[10]=e[10]*n,t[11]=e[11]*n,t[12]=e[12]*n,t[13]=e[13]*n,t[14]=e[14]*n,t[15]=e[15]*n,t},Q.negate=function(e,n){return n[0]=-e[0],n[1]=-e[1],n[2]=-e[2],n[3]=-e[3],n[4]=-e[4],n[5]=-e[5],n[6]=-e[6],n[7]=-e[7],n[8]=-e[8],n[9]=-e[9],n[10]=-e[10],n[11]=-e[11],n[12]=-e[12],n[13]=-e[13],n[14]=-e[14],n[15]=-e[15],n},Q.transpose=function(e,n){var t=e[1],a=e[2],r=e[3],i=e[6],s=e[7],u=e[11];return n[0]=e[0],n[1]=e[4],n[2]=e[8],n[3]=e[12],n[4]=t,n[5]=e[5],n[6]=e[9],n[7]=e[13],n[8]=a,n[9]=i,n[10]=e[10],n[11]=e[14],n[12]=r,n[13]=s,n[14]=u,n[15]=e[15],n},Q.abs=function(e,n){return n[0]=Math.abs(e[0]),n[1]=Math.abs(e[1]),n[2]=Math.abs(e[2]),n[3]=Math.abs(e[3]),n[4]=Math.abs(e[4]),n[5]=Math.abs(e[5]),n[6]=Math.abs(e[6]),n[7]=Math.abs(e[7]),n[8]=Math.abs(e[8]),n[9]=Math.abs(e[9]),n[10]=Math.abs(e[10]),n[11]=Math.abs(e[11]),n[12]=Math.abs(e[12]),n[13]=Math.abs(e[13]),n[14]=Math.abs(e[14]),n[15]=Math.abs(e[15]),n},Q.equals=function(e,n){return e===n||A.defined(e)&&A.defined(n)&&e[12]===n[12]&&e[13]===n[13]&&e[14]===n[14]&&e[0]===n[0]&&e[1]===n[1]&&e[2]===n[2]&&e[4]===n[4]&&e[5]===n[5]&&e[6]===n[6]&&e[8]===n[8]&&e[9]===n[9]&&e[10]===n[10]&&e[3]===n[3]&&e[7]===n[7]&&e[11]===n[11]&&e[15]===n[15]},Q.equalsEpsilon=function(e,n,t){return t=A.defaultValue(t,0),e===n||A.defined(e)&&A.defined(n)&&Math.abs(e[0]-n[0])<=t&&Math.abs(e[1]-n[1])<=t&&Math.abs(e[2]-n[2])<=t&&Math.abs(e[3]-n[3])<=t&&Math.abs(e[4]-n[4])<=t&&Math.abs(e[5]-n[5])<=t&&Math.abs(e[6]-n[6])<=t&&Math.abs(e[7]-n[7])<=t&&Math.abs(e[8]-n[8])<=t&&Math.abs(e[9]-n[9])<=t&&Math.abs(e[10]-n[10])<=t&&Math.abs(e[11]-n[11])<=t&&Math.abs(e[12]-n[12])<=t&&Math.abs(e[13]-n[13])<=t&&Math.abs(e[14]-n[14])<=t&&Math.abs(e[15]-n[15])<=t},Q.getTranslation=function(e,n){return n.x=e[12],n.y=e[13],n.z=e[14],n},Q.getMatrix3=function(e,n){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[4],n[4]=e[5],n[5]=e[6],n[6]=e[8],n[7]=e[9],n[8]=e[10],n};var $=new J,K=new J,ee=new H,ne=new H(0,0,0,1);function D(e,n){this.center=P.Cartesian3.clone(A.defaultValue(e,P.Cartesian3.ZERO)),this.radius=A.defaultValue(n,0)}Q.inverse=function(e,n){var t=e[0],a=e[4],r=e[8],i=e[12],s=e[1],u=e[5],o=e[9],l=e[13],d=e[2],c=e[6],f=e[10],m=e[14],h=e[3],y=e[7],p=e[11],C=e[15],w=f*C,x=m*p,v=c*C,g=m*y,E=c*p,M=f*y,O=d*C,z=m*h,S=d*p,_=f*h,T=d*y,R=c*h,b=w*u+g*o+E*l-(x*u+v*o+M*l),N=x*s+O*o+_*l-(w*s+z*o+S*l),I=v*s+z*u+T*l-(g*s+O*u+R*l),A=M*s+S*u+R*o-(E*s+_*u+T*o),P=x*a+v*r+M*i-(w*a+g*r+E*i),D=w*t+z*r+S*i-(x*t+O*r+_*i),U=g*t+O*a+R*i-(v*t+z*a+T*i),q=E*t+_*a+T*r-(M*t+S*a+R*r),F=(w=r*l)*y+(g=i*u)*p+(E=a*o)*C-((x=i*o)*y+(v=a*l)*p+(M=r*u)*C),V=x*h+(O=t*l)*p+(_=r*s)*C-(w*h+(z=i*s)*p+(S=t*o)*C),W=v*h+z*y+(T=t*u)*C-(g*h+O*y+(R=a*s)*C),L=M*h+S*y+R*p-(E*h+_*y+T*p),B=v*f+M*m+x*c-(E*m+w*c+g*f),k=S*m+w*d+z*f-(O*f+_*m+x*d),j=O*c+R*m+g*d-(T*m+v*d+z*c),Y=T*f+E*d+_*c-(S*c+R*f+M*d),Z=t*b+a*N+r*I+i*A;if(Math.abs(Z)<G.CesiumMath.EPSILON21){if(J.equalsEpsilon(Q.getMatrix3(e,$),K,G.CesiumMath.EPSILON7)&&H.equals(Q.getRow(e,3,ee),ne))return n[0]=0,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=0,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=0,n[11]=0,n[12]=-e[12],n[13]=-e[13],n[14]=-e[14],n[15]=1,n;throw new X.RuntimeError("matrix is not invertible because its determinate is zero.")}return Z=1/Z,n[0]=b*Z,n[1]=N*Z,n[2]=I*Z,n[3]=A*Z,n[4]=P*Z,n[5]=D*Z,n[6]=U*Z,n[7]=q*Z,n[8]=F*Z,n[9]=V*Z,n[10]=W*Z,n[11]=L*Z,n[12]=B*Z,n[13]=k*Z,n[14]=j*Z,n[15]=Y*Z,n},Q.inverseTransformation=function(e,n){var t=e[0],a=e[1],r=e[2],i=e[4],s=e[5],u=e[6],o=e[8],l=e[9],d=e[10],c=e[12],f=e[13],m=e[14],h=-t*c-a*f-r*m,y=-i*c-s*f-u*m,p=-o*c-l*f-d*m;return n[0]=t,n[1]=i,n[2]=o,n[3]=0,n[4]=a,n[5]=s,n[6]=l,n[7]=0,n[8]=r,n[9]=u,n[10]=d,n[11]=0,n[12]=h,n[13]=y,n[14]=p,n[15]=1,n},Q.IDENTITY=Object.freeze(new Q(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)),Q.ZERO=Object.freeze(new Q(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)),Q.COLUMN0ROW0=0,Q.COLUMN0ROW1=1,Q.COLUMN0ROW2=2,Q.COLUMN0ROW3=3,Q.COLUMN1ROW0=4,Q.COLUMN1ROW1=5,Q.COLUMN1ROW2=6,Q.COLUMN1ROW3=7,Q.COLUMN2ROW0=8,Q.COLUMN2ROW1=9,Q.COLUMN2ROW2=10,Q.COLUMN2ROW3=11,Q.COLUMN3ROW0=12,Q.COLUMN3ROW1=13,Q.COLUMN3ROW2=14,Q.COLUMN3ROW3=15,Object.defineProperties(Q.prototype,{length:{get:function(){return Q.packedLength}}}),Q.prototype.clone=function(e){return Q.clone(this,e)},Q.prototype.equals=function(e){return Q.equals(this,e)},Q.equalsArray=function(e,n,t){return e[0]===n[t]&&e[1]===n[t+1]&&e[2]===n[t+2]&&e[3]===n[t+3]&&e[4]===n[t+4]&&e[5]===n[t+5]&&e[6]===n[t+6]&&e[7]===n[t+7]&&e[8]===n[t+8]&&e[9]===n[t+9]&&e[10]===n[t+10]&&e[11]===n[t+11]&&e[12]===n[t+12]&&e[13]===n[t+13]&&e[14]===n[t+14]&&e[15]===n[t+15]},Q.prototype.equalsEpsilon=function(e,n){return Q.equalsEpsilon(this,e,n)},Q.prototype.toString=function(){return"("+this[0]+", "+this[4]+", "+this[8]+", "+this[12]+")\n("+this[1]+", "+this[5]+", "+this[9]+", "+this[13]+")\n("+this[2]+", "+this[6]+", "+this[10]+", "+this[14]+")\n("+this[3]+", "+this[7]+", "+this[11]+", "+this[15]+")"};var U=new P.Cartesian3,q=new P.Cartesian3,F=new P.Cartesian3,V=new P.Cartesian3,W=new P.Cartesian3,L=new P.Cartesian3,B=new P.Cartesian3,k=new P.Cartesian3,j=new P.Cartesian3,Y=new P.Cartesian3,Z=new P.Cartesian3,te=new P.Cartesian3,_=4/3*G.CesiumMath.PI;D.fromPoints=function(e,n){if(A.defined(n)||(n=new D),!A.defined(e)||0===e.length)return n.center=P.Cartesian3.clone(P.Cartesian3.ZERO,n.center),n.radius=0,n;var t,a=P.Cartesian3.clone(e[0],B),r=P.Cartesian3.clone(a,U),i=P.Cartesian3.clone(a,q),s=P.Cartesian3.clone(a,F),u=P.Cartesian3.clone(a,V),o=P.Cartesian3.clone(a,W),l=P.Cartesian3.clone(a,L),d=e.length;for(t=1;t<d;t++){P.Cartesian3.clone(e[t],a);var c=a.x,f=a.y,m=a.z;c<r.x&&P.Cartesian3.clone(a,r),c>u.x&&P.Cartesian3.clone(a,u),f<i.y&&P.Cartesian3.clone(a,i),f>o.y&&P.Cartesian3.clone(a,o),m<s.z&&P.Cartesian3.clone(a,s),m>l.z&&P.Cartesian3.clone(a,l)}var h=P.Cartesian3.magnitudeSquared(P.Cartesian3.subtract(u,r,k)),y=P.Cartesian3.magnitudeSquared(P.Cartesian3.subtract(o,i,k)),p=P.Cartesian3.magnitudeSquared(P.Cartesian3.subtract(l,s,k)),C=r,w=u,x=h;x<y&&(x=y,C=i,w=o),x<p&&(x=p,C=s,w=l);var v=j;v.x=.5*(C.x+w.x),v.y=.5*(C.y+w.y),v.z=.5*(C.z+w.z);var g=P.Cartesian3.magnitudeSquared(P.Cartesian3.subtract(w,v,k)),E=Math.sqrt(g),M=Y;M.x=r.x,M.y=i.y,M.z=s.z;var O=Z;O.x=u.x,O.y=o.y,O.z=l.z;var z=P.Cartesian3.midpoint(M,O,te),S=0;for(t=0;t<d;t++){P.Cartesian3.clone(e[t],a);var _=P.Cartesian3.magnitude(P.Cartesian3.subtract(a,z,k));S<_&&(S=_);var T=P.Cartesian3.magnitudeSquared(P.Cartesian3.subtract(a,v,k));if(g<T){var R=Math.sqrt(T);g=(E=.5*(E+R))*E;var b=R-E;v.x=(E*v.x+b*a.x)/R,v.y=(E*v.y+b*a.y)/R,v.z=(E*v.z+b*a.z)/R}}return E<S?(P.Cartesian3.clone(v,n.center),n.radius=E):(P.Cartesian3.clone(z,n.center),n.radius=S),n};var T=new n,R=new P.Cartesian3,b=new P.Cartesian3,N=new P.Cartographic,I=new P.Cartographic;D.fromRectangle2D=function(e,n,t){return D.fromRectangleWithHeights2D(e,n,0,0,t)},D.fromRectangleWithHeights2D=function(e,n,t,a,r){if(A.defined(r)||(r=new D),!A.defined(e))return r.center=P.Cartesian3.clone(P.Cartesian3.ZERO,r.center),r.radius=0,r;n=A.defaultValue(n,T),P.Rectangle.southwest(e,N),N.height=t,P.Rectangle.northeast(e,I),I.height=a;var i=n.project(N,R),s=n.project(I,b),u=s.x-i.x,o=s.y-i.y,l=s.z-i.z;r.radius=.5*Math.sqrt(u*u+o*o+l*l);var d=r.center;return d.x=i.x+.5*u,d.y=i.y+.5*o,d.z=i.z+.5*l,r};var ae=[];D.fromRectangle3D=function(e,n,t,a){if(n=A.defaultValue(n,P.Ellipsoid.WGS84),t=A.defaultValue(t,0),A.defined(a)||(a=new D),!A.defined(e))return a.center=P.Cartesian3.clone(P.Cartesian3.ZERO,a.center),a.radius=0,a;var r=P.Rectangle.subsample(e,n,t,ae);return D.fromPoints(r,a)},D.fromVertices=function(e,n,t,a){if(A.defined(a)||(a=new D),!A.defined(e)||0===e.length)return a.center=P.Cartesian3.clone(P.Cartesian3.ZERO,a.center),a.radius=0,a;n=A.defaultValue(n,P.Cartesian3.ZERO),t=A.defaultValue(t,3);var r=B;r.x=e[0]+n.x,r.y=e[1]+n.y,r.z=e[2]+n.z;var i,s=P.Cartesian3.clone(r,U),u=P.Cartesian3.clone(r,q),o=P.Cartesian3.clone(r,F),l=P.Cartesian3.clone(r,V),d=P.Cartesian3.clone(r,W),c=P.Cartesian3.clone(r,L),f=e.length;for(i=0;i<f;i+=t){var m=e[i]+n.x,h=e[i+1]+n.y,y=e[i+2]+n.z;r.x=m,r.y=h,r.z=y,m<s.x&&P.Cartesian3.clone(r,s),m>l.x&&P.Cartesian3.clone(r,l),h<u.y&&P.Cartesian3.clone(r,u),h>d.y&&P.Cartesian3.clone(r,d),y<o.z&&P.Cartesian3.clone(r,o),y>c.z&&P.Cartesian3.clone(r,c)}var p=P.Cartesian3.magnitudeSquared(P.Cartesian3.subtract(l,s,k)),C=P.Cartesian3.magnitudeSquared(P.Cartesian3.subtract(d,u,k)),w=P.Cartesian3.magnitudeSquared(P.Cartesian3.subtract(c,o,k)),x=s,v=l,g=p;g<C&&(g=C,x=u,v=d),g<w&&(g=w,x=o,v=c);var E=j;E.x=.5*(x.x+v.x),E.y=.5*(x.y+v.y),E.z=.5*(x.z+v.z);var M=P.Cartesian3.magnitudeSquared(P.Cartesian3.subtract(v,E,k)),O=Math.sqrt(M),z=Y;z.x=s.x,z.y=u.y,z.z=o.z;var S=Z;S.x=l.x,S.y=d.y,S.z=c.z;var _=P.Cartesian3.midpoint(z,S,te),T=0;for(i=0;i<f;i+=t){r.x=e[i]+n.x,r.y=e[i+1]+n.y,r.z=e[i+2]+n.z;var R=P.Cartesian3.magnitude(P.Cartesian3.subtract(r,_,k));T<R&&(T=R);var b=P.Cartesian3.magnitudeSquared(P.Cartesian3.subtract(r,E,k));if(M<b){var N=Math.sqrt(b);M=(O=.5*(O+N))*O;var I=N-O;E.x=(O*E.x+I*r.x)/N,E.y=(O*E.y+I*r.y)/N,E.z=(O*E.z+I*r.z)/N}}return O<T?(P.Cartesian3.clone(E,a.center),a.radius=O):(P.Cartesian3.clone(_,a.center),a.radius=T),a},D.fromEncodedCartesianVertices=function(e,n,t){if(A.defined(t)||(t=new D),!A.defined(e)||!A.defined(n)||e.length!==n.length||0===e.length)return t.center=P.Cartesian3.clone(P.Cartesian3.ZERO,t.center),t.radius=0,t;var a=B;a.x=e[0]+n[0],a.y=e[1]+n[1],a.z=e[2]+n[2];var r,i=P.Cartesian3.clone(a,U),s=P.Cartesian3.clone(a,q),u=P.Cartesian3.clone(a,F),o=P.Cartesian3.clone(a,V),l=P.Cartesian3.clone(a,W),d=P.Cartesian3.clone(a,L),c=e.length;for(r=0;r<c;r+=3){var f=e[r]+n[r],m=e[r+1]+n[r+1],h=e[r+2]+n[r+2];a.x=f,a.y=m,a.z=h,f<i.x&&P.Cartesian3.clone(a,i),f>o.x&&P.Cartesian3.clone(a,o),m<s.y&&P.Cartesian3.clone(a,s),m>l.y&&P.Cartesian3.clone(a,l),h<u.z&&P.Cartesian3.clone(a,u),h>d.z&&P.Cartesian3.clone(a,d)}var y=P.Cartesian3.magnitudeSquared(P.Cartesian3.subtract(o,i,k)),p=P.Cartesian3.magnitudeSquared(P.Cartesian3.subtract(l,s,k)),C=P.Cartesian3.magnitudeSquared(P.Cartesian3.subtract(d,u,k)),w=i,x=o,v=y;v<p&&(v=p,w=s,x=l),v<C&&(v=C,w=u,x=d);var g=j;g.x=.5*(w.x+x.x),g.y=.5*(w.y+x.y),g.z=.5*(w.z+x.z);var E=P.Cartesian3.magnitudeSquared(P.Cartesian3.subtract(x,g,k)),M=Math.sqrt(E),O=Y;O.x=i.x,O.y=s.y,O.z=u.z;var z=Z;z.x=o.x,z.y=l.y,z.z=d.z;var S=P.Cartesian3.midpoint(O,z,te),_=0;for(r=0;r<c;r+=3){a.x=e[r]+n[r],a.y=e[r+1]+n[r+1],a.z=e[r+2]+n[r+2];var T=P.Cartesian3.magnitude(P.Cartesian3.subtract(a,S,k));_<T&&(_=T);var R=P.Cartesian3.magnitudeSquared(P.Cartesian3.subtract(a,g,k));if(E<R){var b=Math.sqrt(R);E=(M=.5*(M+b))*M;var N=b-M;g.x=(M*g.x+N*a.x)/b,g.y=(M*g.y+N*a.y)/b,g.z=(M*g.z+N*a.z)/b}}return M<_?(P.Cartesian3.clone(g,t.center),t.radius=M):(P.Cartesian3.clone(S,t.center),t.radius=_),t},D.fromCornerPoints=function(e,n,t){A.defined(t)||(t=new D);var a=P.Cartesian3.midpoint(e,n,t.center);return t.radius=P.Cartesian3.distance(a,n),t},D.fromEllipsoid=function(e,n){return A.defined(n)||(n=new D),P.Cartesian3.clone(P.Cartesian3.ZERO,n.center),n.radius=e.maximumRadius,n};var re=new P.Cartesian3;D.fromBoundingSpheres=function(e,n){if(A.defined(n)||(n=new D),!A.defined(e)||0===e.length)return n.center=P.Cartesian3.clone(P.Cartesian3.ZERO,n.center),n.radius=0,n;var t=e.length;if(1===t)return D.clone(e[0],n);if(2===t)return D.union(e[0],e[1],n);var a,r=[];for(a=0;a<t;a++)r.push(e[a].center);var i=(n=D.fromPoints(r,n)).center,s=n.radius;for(a=0;a<t;a++){var u=e[a];s=Math.max(s,P.Cartesian3.distance(i,u.center,re)+u.radius)}return n.radius=s,n};var ie=new P.Cartesian3,se=new P.Cartesian3,ue=new P.Cartesian3;D.fromOrientedBoundingBox=function(e,n){A.defined(n)||(n=new D);var t=e.halfAxes,a=J.getColumn(t,0,ie),r=J.getColumn(t,1,se),i=J.getColumn(t,2,ue);return P.Cartesian3.add(a,r,a),P.Cartesian3.add(a,i,a),n.center=P.Cartesian3.clone(e.center,n.center),n.radius=P.Cartesian3.magnitude(a),n},D.clone=function(e,n){if(A.defined(e))return A.defined(n)?(n.center=P.Cartesian3.clone(e.center,n.center),n.radius=e.radius,n):new D(e.center,e.radius)},D.packedLength=4,D.pack=function(e,n,t){t=A.defaultValue(t,0);var a=e.center;return n[t++]=a.x,n[t++]=a.y,n[t++]=a.z,n[t]=e.radius,n},D.unpack=function(e,n,t){n=A.defaultValue(n,0),A.defined(t)||(t=new D);var a=t.center;return a.x=e[n++],a.y=e[n++],a.z=e[n++],t.radius=e[n],t};var oe=new P.Cartesian3,le=new P.Cartesian3;D.union=function(e,n,t){A.defined(t)||(t=new D);var a=e.center,r=e.radius,i=n.center,s=n.radius,u=P.Cartesian3.subtract(i,a,oe),o=P.Cartesian3.magnitude(u);if(o+s<=r)return e.clone(t),t;if(o+r<=s)return n.clone(t),t;var l=.5*(r+o+s),d=P.Cartesian3.multiplyByScalar(u,(l-r)/o,le);return P.Cartesian3.add(d,a,d),P.Cartesian3.clone(d,t.center),t.radius=l,t};var de=new P.Cartesian3;D.expand=function(e,n,t){t=D.clone(e,t);var a=P.Cartesian3.magnitude(P.Cartesian3.subtract(n,t.center,de));return a>t.radius&&(t.radius=a),t},D.intersectPlane=function(e,n){var t=e.center,a=e.radius,r=n.normal,i=P.Cartesian3.dot(r,t)+n.distance;return i<-a?s.OUTSIDE:i<a?s.INTERSECTING:s.INSIDE},D.transform=function(e,n,t){return A.defined(t)||(t=new D),t.center=Q.multiplyByPoint(n,e.center,t.center),t.radius=Q.getMaximumScale(n)*e.radius,t};var ce=new P.Cartesian3;D.distanceSquaredTo=function(e,n){var t=P.Cartesian3.subtract(e.center,n,ce);return P.Cartesian3.magnitudeSquared(t)-e.radius*e.radius},D.transformWithoutScale=function(e,n,t){return A.defined(t)||(t=new D),t.center=Q.multiplyByPoint(n,e.center,t.center),t.radius=e.radius,t};var fe=new P.Cartesian3;D.computePlaneDistances=function(e,n,t,a){A.defined(a)||(a=new u);var r=P.Cartesian3.subtract(e.center,n,fe),i=P.Cartesian3.dot(t,r);return a.start=i-e.radius,a.stop=i+e.radius,a};for(var me=new P.Cartesian3,he=new P.Cartesian3,ye=new P.Cartesian3,pe=new P.Cartesian3,Ce=new P.Cartesian3,we=new P.Cartographic,xe=new Array(8),ve=0;ve<8;++ve)xe[ve]=new P.Cartesian3;var ge,Ee=new n;D.projectTo2D=function(e,n,t){var a,r=(n=A.defaultValue(n,Ee)).ellipsoid,i=e.center,s=e.radius;a=P.Cartesian3.equals(i,P.Cartesian3.ZERO)?P.Cartesian3.clone(P.Cartesian3.UNIT_X,me):r.geodeticSurfaceNormal(i,me);var u=P.Cartesian3.cross(P.Cartesian3.UNIT_Z,a,he);P.Cartesian3.normalize(u,u);var o=P.Cartesian3.cross(a,u,ye);P.Cartesian3.normalize(o,o),P.Cartesian3.multiplyByScalar(a,s,a),P.Cartesian3.multiplyByScalar(o,s,o),P.Cartesian3.multiplyByScalar(u,s,u);var l=P.Cartesian3.negate(o,Ce),d=P.Cartesian3.negate(u,pe),c=xe,f=c[0];P.Cartesian3.add(a,o,f),P.Cartesian3.add(f,u,f),f=c[1],P.Cartesian3.add(a,o,f),P.Cartesian3.add(f,d,f),f=c[2],P.Cartesian3.add(a,l,f),P.Cartesian3.add(f,d,f),f=c[3],P.Cartesian3.add(a,l,f),P.Cartesian3.add(f,u,f),P.Cartesian3.negate(a,a),f=c[4],P.Cartesian3.add(a,o,f),P.Cartesian3.add(f,u,f),f=c[5],P.Cartesian3.add(a,o,f),P.Cartesian3.add(f,d,f),f=c[6],P.Cartesian3.add(a,l,f),P.Cartesian3.add(f,d,f),f=c[7],P.Cartesian3.add(a,l,f),P.Cartesian3.add(f,u,f);for(var m=c.length,h=0;h<m;++h){var y=c[h];P.Cartesian3.add(i,y,y);var p=r.cartesianToCartographic(y,we);n.project(p,y)}var C=(i=(t=D.fromPoints(c,t)).center).x,w=i.y,x=i.z;return i.x=x,i.y=C,i.z=w,t},D.isOccluded=function(e,n){return!n.isBoundingSphereVisible(e)},D.equals=function(e,n){return e===n||A.defined(e)&&A.defined(n)&&P.Cartesian3.equals(e.center,n.center)&&e.radius===n.radius},D.prototype.intersectPlane=function(e){return D.intersectPlane(this,e)},D.prototype.distanceSquaredTo=function(e){return D.distanceSquaredTo(this,e)},D.prototype.computePlaneDistances=function(e,n,t){return D.computePlaneDistances(this,e,n,t)},D.prototype.isOccluded=function(e){return D.isOccluded(this,e)},D.prototype.equals=function(e){return D.equals(this,e)},D.prototype.clone=function(e){return D.clone(this,e)},D.prototype.volume=function(){var e=this.radius;return _*e*e*e};var Me,Oe,ze,Se,_e,Te,Re,be,Ne,Ie,Ae,Pe,De,Ue,qe,Fe,Ve,We={requestFullscreen:void 0,exitFullscreen:void 0,fullscreenEnabled:void 0,fullscreenElement:void 0,fullscreenchange:void 0,fullscreenerror:void 0},Le={};function Be(e){for(var n=e.split("."),t=0,a=n.length;t<a;++t)n[t]=parseInt(n[t],10);return n}function ke(){if(!A.defined(Oe)&&(Oe=!1,!Ge())){var e=/ Chrome\/([\.0-9]+)/.exec(Me.userAgent);null!==e&&(Oe=!0,ze=Be(e[1]))}return Oe}function je(){if(!A.defined(Se)&&(Se=!1,!ke()&&!Ge()&&/ Safari\/[\.0-9]+/.test(Me.userAgent))){var e=/ Version\/([\.0-9]+)/.exec(Me.userAgent);null!==e&&(Se=!0,_e=Be(e[1]))}return Se}function Ye(){if(!A.defined(Te)){Te=!1;var e=/ AppleWebKit\/([\.0-9]+)(\+?)/.exec(Me.userAgent);null!==e&&(Te=!0,(Re=Be(e[1])).isNightly=!!e[2])}return Te}function Ze(){var e;A.defined(be)||(be=!1,"Microsoft Internet Explorer"===Me.appName?null!==(e=/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(Me.userAgent))&&(be=!0,Ne=Be(e[1])):"Netscape"===Me.appName&&null!==(e=/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(Me.userAgent))&&(be=!0,Ne=Be(e[1])));return be}function Ge(){if(!A.defined(Ie)){Ie=!1;var e=/ Edge\/([\.0-9]+)/.exec(Me.userAgent);null!==e&&(Ie=!0,Ae=Be(e[1]))}return Ie}function Xe(){if(!A.defined(Pe)){Pe=!1;var e=/Firefox\/([\.0-9]+)/.exec(Me.userAgent);null!==e&&(Pe=!0,De=Be(e[1]))}return Pe}function Je(){if(!A.defined(Ve)){var e=document.createElement("canvas");e.setAttribute("style","image-rendering: -moz-crisp-edges;image-rendering: pixelated;");var n=e.style.imageRendering;(Ve=A.defined(n)&&""!==n)&&(Fe=n)}return Ve}function He(){return He._result}Object.defineProperties(Le,{element:{get:function(){if(Le.supportsFullscreen())return document[We.fullscreenElement]}},changeEventName:{get:function(){if(Le.supportsFullscreen())return We.fullscreenchange}},errorEventName:{get:function(){if(Le.supportsFullscreen())return We.fullscreenerror}},enabled:{get:function(){if(Le.supportsFullscreen())return document[We.fullscreenEnabled]}},fullscreen:{get:function(){if(Le.supportsFullscreen())return null!==Le.element}}}),Le.supportsFullscreen=function(){if(A.defined(ge))return ge;ge=!1;var e=document.body;if("function"==typeof e.requestFullscreen)return We.requestFullscreen="requestFullscreen",We.exitFullscreen="exitFullscreen",We.fullscreenEnabled="fullscreenEnabled",We.fullscreenElement="fullscreenElement",We.fullscreenchange="fullscreenchange",We.fullscreenerror="fullscreenerror",ge=!0;for(var n,t=["webkit","moz","o","ms","khtml"],a=0,r=t.length;a<r;++a){var i=t[a];"function"==typeof e[n=i+"RequestFullscreen"]?(We.requestFullscreen=n,ge=!0):"function"==typeof e[n=i+"RequestFullScreen"]&&(We.requestFullscreen=n,ge=!0),n=i+"ExitFullscreen","function"==typeof document[n]?We.exitFullscreen=n:(n=i+"CancelFullScreen","function"==typeof document[n]&&(We.exitFullscreen=n)),n=i+"FullscreenEnabled",void 0!==document[n]?We.fullscreenEnabled=n:(n=i+"FullScreenEnabled",void 0!==document[n]&&(We.fullscreenEnabled=n)),n=i+"FullscreenElement",void 0!==document[n]?We.fullscreenElement=n:(n=i+"FullScreenElement",void 0!==document[n]&&(We.fullscreenElement=n)),n=i+"fullscreenchange",void 0!==document["on"+n]&&("ms"===i&&(n="MSFullscreenChange"),We.fullscreenchange=n),n=i+"fullscreenerror",void 0!==document["on"+n]&&("ms"===i&&(n="MSFullscreenError"),We.fullscreenerror=n)}return ge},Le.requestFullscreen=function(e,n){Le.supportsFullscreen()&&e[We.requestFullscreen]({vrDisplay:n})},Le.exitFullscreen=function(){Le.supportsFullscreen()&&document[We.exitFullscreen]()},Le._names=We,Me="undefined"!=typeof navigator?navigator:{},He._promise=void 0,He._result=void 0,He.initialize=function(){if(A.defined(He._promise))return He._promise;var e=A.when.defer();if(He._promise=e.promise,Ge())return He._result=!1,e.resolve(He._result),e.promise;var n=new Image;return n.onload=function(){He._result=0<n.width&&0<n.height,e.resolve(He._result)},n.onerror=function(){He._result=!1,e.resolve(He._result)},n.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",e.promise},Object.defineProperties(He,{initialized:{get:function(){return A.defined(He._result)}}});var Qe=[];"undefined"!=typeof ArrayBuffer&&(Qe.push(Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array),"undefined"!=typeof Uint8ClampedArray&&Qe.push(Uint8ClampedArray),"undefined"!=typeof Uint8ClampedArray&&Qe.push(Uint8ClampedArray));var $e={isChrome:ke,chromeVersion:function(){return ke()&&ze},isSafari:je,safariVersion:function(){return je()&&_e},isWebkit:Ye,webkitVersion:function(){return Ye()&&Re},isInternetExplorer:Ze,internetExplorerVersion:function(){return Ze()&&Ne},isEdge:Ge,edgeVersion:function(){return Ge()&&Ae},isFirefox:Xe,firefoxVersion:function(){return Xe()&&De},isWindows:function(){return A.defined(Ue)||(Ue=/Windows/i.test(Me.appVersion)),Ue},hardwareConcurrency:A.defaultValue(Me.hardwareConcurrency,3),supportsPointerEvents:function(){return A.defined(qe)||(qe=!Xe()&&"undefined"!=typeof PointerEvent&&(!A.defined(Me.pointerEnabled)||Me.pointerEnabled)),qe},supportsImageRenderingPixelated:Je,supportsWebP:He,imageRenderingValue:function(){return Je()?Fe:void 0},typedArrayTypes:Qe};function Ke(e,n,t,a){this.x=A.defaultValue(e,0),this.y=A.defaultValue(n,0),this.z=A.defaultValue(t,0),this.w=A.defaultValue(a,0)}$e.supportsFullscreen=function(){return Le.supportsFullscreen()},$e.supportsTypedArrays=function(){return"undefined"!=typeof ArrayBuffer},$e.supportsWebWorkers=function(){return"undefined"!=typeof Worker},$e.supportsWebAssembly=function(){return"undefined"!=typeof WebAssembly&&!$e.isEdge()};var en=new P.Cartesian3;Ke.fromAxisAngle=function(e,n,t){var a=n/2,r=Math.sin(a),i=(en=P.Cartesian3.normalize(e,en)).x*r,s=en.y*r,u=en.z*r,o=Math.cos(a);return A.defined(t)?(t.x=i,t.y=s,t.z=u,t.w=o,t):new Ke(i,s,u,o)};var nn=[1,2,0],tn=new Array(3);Ke.fromRotationMatrix=function(e,n){var t,a,r,i,s,u=e[J.COLUMN0ROW0],o=e[J.COLUMN1ROW1],l=e[J.COLUMN2ROW2],d=u+o+l;if(0<d)s=.5*(t=Math.sqrt(d+1)),t=.5/t,a=(e[J.COLUMN1ROW2]-e[J.COLUMN2ROW1])*t,r=(e[J.COLUMN2ROW0]-e[J.COLUMN0ROW2])*t,i=(e[J.COLUMN0ROW1]-e[J.COLUMN1ROW0])*t;else{var c=0;u<o&&(c=1),u<l&&o<l&&(c=2);var f=nn[c],m=nn[f];t=Math.sqrt(e[J.getElementIndex(c,c)]-e[J.getElementIndex(f,f)]-e[J.getElementIndex(m,m)]+1);var h=tn;h[c]=.5*t,t=.5/t,s=(e[J.getElementIndex(m,f)]-e[J.getElementIndex(f,m)])*t,h[f]=(e[J.getElementIndex(f,c)]+e[J.getElementIndex(c,f)])*t,h[m]=(e[J.getElementIndex(m,c)]+e[J.getElementIndex(c,m)])*t,a=-h[0],r=-h[1],i=-h[2]}return A.defined(n)?(n.x=a,n.y=r,n.z=i,n.w=s,n):new Ke(a,r,i,s)};var an=new Ke,rn=new Ke,sn=new Ke,un=new Ke;Ke.fromHeadingPitchRoll=function(e,n){return un=Ke.fromAxisAngle(P.Cartesian3.UNIT_X,e.roll,an),sn=Ke.fromAxisAngle(P.Cartesian3.UNIT_Y,-e.pitch,n),n=Ke.multiply(sn,un,sn),rn=Ke.fromAxisAngle(P.Cartesian3.UNIT_Z,-e.heading,an),Ke.multiply(rn,n,n)};var on=new P.Cartesian3,ln=new P.Cartesian3,dn=new Ke,cn=new Ke,fn=new Ke;Ke.packedLength=4,Ke.pack=function(e,n,t){return t=A.defaultValue(t,0),n[t++]=e.x,n[t++]=e.y,n[t++]=e.z,n[t]=e.w,n},Ke.unpack=function(e,n,t){return n=A.defaultValue(n,0),A.defined(t)||(t=new Ke),t.x=e[n],t.y=e[n+1],t.z=e[n+2],t.w=e[n+3],t},Ke.packedInterpolationLength=3,Ke.convertPackedArrayForInterpolation=function(e,n,t,a){Ke.unpack(e,4*t,fn),Ke.conjugate(fn,fn);for(var r=0,i=t-n+1;r<i;r++){var s=3*r;Ke.unpack(e,4*(n+r),dn),Ke.multiply(dn,fn,dn),dn.w<0&&Ke.negate(dn,dn),Ke.computeAxis(dn,on);var u=Ke.computeAngle(dn);A.defined(a)||(a=[]),a[s]=on.x*u,a[1+s]=on.y*u,a[2+s]=on.z*u}},Ke.unpackInterpolationResult=function(e,n,t,a,r){A.defined(r)||(r=new Ke),P.Cartesian3.fromArray(e,0,ln);var i=P.Cartesian3.magnitude(ln);return Ke.unpack(n,4*a,cn),0===i?Ke.clone(Ke.IDENTITY,dn):Ke.fromAxisAngle(ln,i,dn),Ke.multiply(dn,cn,r)},Ke.clone=function(e,n){if(A.defined(e))return A.defined(n)?(n.x=e.x,n.y=e.y,n.z=e.z,n.w=e.w,n):new Ke(e.x,e.y,e.z,e.w)},Ke.conjugate=function(e,n){return n.x=-e.x,n.y=-e.y,n.z=-e.z,n.w=e.w,n},Ke.magnitudeSquared=function(e){return e.x*e.x+e.y*e.y+e.z*e.z+e.w*e.w},Ke.magnitude=function(e){return Math.sqrt(Ke.magnitudeSquared(e))},Ke.normalize=function(e,n){var t=1/Ke.magnitude(e),a=e.x*t,r=e.y*t,i=e.z*t,s=e.w*t;return n.x=a,n.y=r,n.z=i,n.w=s,n},Ke.inverse=function(e,n){var t=Ke.magnitudeSquared(e);return n=Ke.conjugate(e,n),Ke.multiplyByScalar(n,1/t,n)},Ke.add=function(e,n,t){return t.x=e.x+n.x,t.y=e.y+n.y,t.z=e.z+n.z,t.w=e.w+n.w,t},Ke.subtract=function(e,n,t){return t.x=e.x-n.x,t.y=e.y-n.y,t.z=e.z-n.z,t.w=e.w-n.w,t},Ke.negate=function(e,n){return n.x=-e.x,n.y=-e.y,n.z=-e.z,n.w=-e.w,n},Ke.dot=function(e,n){return e.x*n.x+e.y*n.y+e.z*n.z+e.w*n.w},Ke.multiply=function(e,n,t){var a=e.x,r=e.y,i=e.z,s=e.w,u=n.x,o=n.y,l=n.z,d=n.w,c=s*u+a*d+r*l-i*o,f=s*o-a*l+r*d+i*u,m=s*l+a*o-r*u+i*d,h=s*d-a*u-r*o-i*l;return t.x=c,t.y=f,t.z=m,t.w=h,t},Ke.multiplyByScalar=function(e,n,t){return t.x=e.x*n,t.y=e.y*n,t.z=e.z*n,t.w=e.w*n,t},Ke.divideByScalar=function(e,n,t){return t.x=e.x/n,t.y=e.y/n,t.z=e.z/n,t.w=e.w/n,t},Ke.computeAxis=function(e,n){var t=e.w;if(Math.abs(t-1)<G.CesiumMath.EPSILON6)return n.x=n.y=n.z=0,n;var a=1/Math.sqrt(1-t*t);return n.x=e.x*a,n.y=e.y*a,n.z=e.z*a,n},Ke.computeAngle=function(e){return Math.abs(e.w-1)<G.CesiumMath.EPSILON6?0:2*Math.acos(e.w)};var mn=new Ke;Ke.lerp=function(e,n,t,a){return mn=Ke.multiplyByScalar(n,t,mn),a=Ke.multiplyByScalar(e,1-t,a),Ke.add(mn,a,a)};var hn=new Ke,yn=new Ke,pn=new Ke;Ke.slerp=function(e,n,t,a){var r=Ke.dot(e,n),i=n;if(r<0&&(r=-r,i=hn=Ke.negate(n,hn)),1-r<G.CesiumMath.EPSILON6)return Ke.lerp(e,i,t,a);var s=Math.acos(r);return yn=Ke.multiplyByScalar(e,Math.sin((1-t)*s),yn),pn=Ke.multiplyByScalar(i,Math.sin(t*s),pn),a=Ke.add(yn,pn,a),Ke.multiplyByScalar(a,1/Math.sin(s),a)},Ke.log=function(e,n){var t=G.CesiumMath.acosClamped(e.w),a=0;return 0!==t&&(a=t/Math.sin(t)),P.Cartesian3.multiplyByScalar(e,a,n)},Ke.exp=function(e,n){var t=P.Cartesian3.magnitude(e),a=0;return 0!==t&&(a=Math.sin(t)/t),n.x=e.x*a,n.y=e.y*a,n.z=e.z*a,n.w=Math.cos(t),n};var Cn=new P.Cartesian3,wn=new P.Cartesian3,xn=new Ke,vn=new Ke;Ke.computeInnerQuadrangle=function(e,n,t,a){var r=Ke.conjugate(n,xn);Ke.multiply(r,t,vn);var i=Ke.log(vn,Cn);Ke.multiply(r,e,vn);var s=Ke.log(vn,wn);return P.Cartesian3.add(i,s,i),P.Cartesian3.multiplyByScalar(i,.25,i),P.Cartesian3.negate(i,i),Ke.exp(i,xn),Ke.multiply(n,xn,a)},Ke.squad=function(e,n,t,a,r,i){var s=Ke.slerp(e,n,r,xn),u=Ke.slerp(t,a,r,vn);return Ke.slerp(s,u,2*r*(1-r),i)};for(var gn=new Ke,En=1.9011074535173003,Mn=$e.supportsTypedArrays()?new Float32Array(8):[],On=$e.supportsTypedArrays()?new Float32Array(8):[],zn=$e.supportsTypedArrays()?new Float32Array(8):[],Sn=$e.supportsTypedArrays()?new Float32Array(8):[],_n=0;_n<7;++_n){var Tn=_n+1,Rn=2*Tn+1;Mn[_n]=1/(Tn*Rn),On[_n]=Tn/Rn}function bn(e,n,t){for(var a,r,i=0,s=e.length-1;i<=s;)if((r=t(e[a=~~((i+s)/2)],n))<0)i=1+a;else{if(!(0<r))return a;s=a-1}return~(s+1)}function Nn(e,n,t,a,r){this.xPoleWander=e,this.yPoleWander=n,this.xPoleOffset=t,this.yPoleOffset=a,this.ut1MinusUtc=r}function In(){function x(e,n,t,a){t=t||" ";var r=e.length>=n?"":Array(1+n-e.length>>>0).join(t);return a?e+r:r+e}function v(e,n,t,a,r,i){var s=a-e.length;return 0<s&&(e=t||!r?x(e,a,i,t):e.slice(0,n.length)+x("",s,"0",!0)+e.slice(n.length)),e}function g(e,n,t,a,r,i,s){var u=e>>>0;return e=(t=t&&u&&{2:"0b",8:"0",16:"0x"}[n]||"")+x(u.toString(n),i||0,"0",!1),v(e,t,a,r,s)}function E(e,n,t,a,r,i){return null!=a&&(e=e.slice(0,a)),v(e,"",n,t,r,i)}var M=arguments,O=0,e=M[O++];return e.replace(/%%|%(\d+\$)?([-+\'#0 ]*)(\*\d+\$|\*|\d+)?(\.(\*\d+\$|\*|\d+))?([scboxXuideEfFgG])/g,function(e,n,t,a,r,i,s){var u,o,l,d,c;if("%%"==e)return"%";for(var f=!1,m="",h=!1,y=!1,p=" ",C=t.length,w=0;t&&w<C;w++)switch(t.charAt(w)){case" ":m=" ";break;case"+":m="+";break;case"-":f=!0;break;case"'":p=t.charAt(w+1);break;case"0":h=!0;break;case"#":y=!0}if((a=a?"*"==a?+M[O++]:"*"==a.charAt(0)?+M[a.slice(1,-1)]:+a:0)<0&&(a=-a,f=!0),!isFinite(a))throw new Error("sprintf: (minimum-)width must be finite");switch(i=i?"*"==i?+M[O++]:"*"==i.charAt(0)?+M[i.slice(1,-1)]:+i:-1<"fFeE".indexOf(s)?6:"d"==s?0:void 0,c=n?M[n.slice(0,-1)]:M[O++],s){case"s":return E(String(c),f,a,i,h,p);case"c":return E(String.fromCharCode(+c),f,a,i,h);case"b":return g(c,2,y,f,a,i,h);case"o":return g(c,8,y,f,a,i,h);case"x":return g(c,16,y,f,a,i,h);case"X":return g(c,16,y,f,a,i,h).toUpperCase();case"u":return g(c,10,y,f,a,i,h);case"i":case"d":return u=+c||0,c=(o=(u=Math.round(u-u%1))<0?"-":m)+x(String(Math.abs(u)),i,"0",!1),v(c,o,f,a,h);case"e":case"E":case"f":case"F":case"g":case"G":return o=(u=+c)<0?"-":m,l=["toExponential","toFixed","toPrecision"]["efg".indexOf(s.toLowerCase())],d=["toString","toUpperCase"]["eEfFgG".indexOf(s)%2],c=o+Math.abs(u)[l](i),v(c,o,f,a,h)[d]();default:return e}})}function An(e,n,t,a,r,i,s,u){this.year=e,this.month=n,this.day=t,this.hour=a,this.minute=r,this.second=i,this.millisecond=s,this.isLeapSecond=u}function Pn(e){return e%4==0&&e%100!=0||e%400==0}function Dn(e,n){this.julianDate=e,this.offset=n}Mn[7]=En/136,On[7]=8*En/17,Ke.fastSlerp=function(e,n,t,a){var r,i=Ke.dot(e,n);0<=i?r=1:(r=-1,i=-i);for(var s=i-1,u=1-t,o=t*t,l=u*u,d=7;0<=d;--d)zn[d]=(Mn[d]*o-On[d])*s,Sn[d]=(Mn[d]*l-On[d])*s;var c=r*t*(1+zn[0]*(1+zn[1]*(1+zn[2]*(1+zn[3]*(1+zn[4]*(1+zn[5]*(1+zn[6]*(1+zn[7])))))))),f=u*(1+Sn[0]*(1+Sn[1]*(1+Sn[2]*(1+Sn[3]*(1+Sn[4]*(1+Sn[5]*(1+Sn[6]*(1+Sn[7])))))))),m=Ke.multiplyByScalar(e,f,gn);return Ke.multiplyByScalar(n,c,a),Ke.add(m,a,a)},Ke.fastSquad=function(e,n,t,a,r,i){var s=Ke.fastSlerp(e,n,r,xn),u=Ke.fastSlerp(t,a,r,vn);return Ke.fastSlerp(s,u,2*r*(1-r),i)},Ke.equals=function(e,n){return e===n||A.defined(e)&&A.defined(n)&&e.x===n.x&&e.y===n.y&&e.z===n.z&&e.w===n.w},Ke.equalsEpsilon=function(e,n,t){return t=A.defaultValue(t,0),e===n||A.defined(e)&&A.defined(n)&&Math.abs(e.x-n.x)<=t&&Math.abs(e.y-n.y)<=t&&Math.abs(e.z-n.z)<=t&&Math.abs(e.w-n.w)<=t},Ke.ZERO=Object.freeze(new Ke(0,0,0,0)),Ke.IDENTITY=Object.freeze(new Ke(0,0,0,1)),Ke.prototype.clone=function(e){return Ke.clone(this,e)},Ke.prototype.equals=function(e){return Ke.equals(this,e)},Ke.prototype.equalsEpsilon=function(e,n){return Ke.equalsEpsilon(this,e,n)},Ke.prototype.toString=function(){return"("+this.x+", "+this.y+", "+this.z+", "+this.w+")"};var Un=Object.freeze({SECONDS_PER_MILLISECOND:.001,SECONDS_PER_MINUTE:60,MINUTES_PER_HOUR:60,HOURS_PER_DAY:24,SECONDS_PER_HOUR:3600,MINUTES_PER_DAY:1440,SECONDS_PER_DAY:86400,DAYS_PER_JULIAN_CENTURY:36525,PICOSECOND:1e-9,MODIFIED_JULIAN_DATE_DIFFERENCE:2400000.5}),qn=Object.freeze({UTC:0,TAI:1}),Fn=new An,Vn=[31,28,31,30,31,30,31,31,30,31,30,31];function Wn(e,n){return nt.compare(e.julianDate,n.julianDate)}var Ln=new Dn;function Bn(e){Ln.julianDate=e;var n=nt.leapSeconds,t=bn(n,Ln,Wn);t<0&&(t=~t),t>=n.length&&(t=n.length-1);var a=n[t].offset;0<t&&a<nt.secondsDifference(n[t].julianDate,e)&&(a=n[--t].offset);nt.addSeconds(e,a,e)}function kn(e,n){Ln.julianDate=e;var t=nt.leapSeconds,a=bn(t,Ln,Wn);if(a<0&&(a=~a),0===a)return nt.addSeconds(e,-t[0].offset,n);if(a>=t.length)return nt.addSeconds(e,-t[a-1].offset,n);var r=nt.secondsDifference(t[a].julianDate,e);return 0===r?nt.addSeconds(e,-t[a].offset,n):r<=1?void 0:nt.addSeconds(e,-t[--a].offset,n)}function jn(e,n,t){var a=n/Un.SECONDS_PER_DAY|0;return e+=a,(n-=Un.SECONDS_PER_DAY*a)<0&&(e--,n+=Un.SECONDS_PER_DAY),t.dayNumber=e,t.secondsOfDay=n,t}function Yn(e,n,t,a,r,i,s){var u=(n-14)/12|0,o=e+4800+u,l=(1461*o/4|0)+(367*(n-2-12*u)/12|0)-(3*((o+100)/100|0)/4|0)+t-32075;(a-=12)<0&&(a+=24);var d=i+(a*Un.SECONDS_PER_HOUR+r*Un.SECONDS_PER_MINUTE+s*Un.SECONDS_PER_MILLISECOND);return 43200<=d&&(l-=1),[l,d]}var Zn=/^(\d{4})$/,Gn=/^(\d{4})-(\d{2})$/,Xn=/^(\d{4})-?(\d{3})$/,Jn=/^(\d{4})-?W(\d{2})-?(\d{1})?$/,Hn=/^(\d{4})-?(\d{2})-?(\d{2})$/,Qn=/([Z+\-])?(\d{2})?:?(\d{2})?$/,$n=/^(\d{2})(\.\d+)?/.source+Qn.source,Kn=/^(\d{2}):?(\d{2})(\.\d+)?/.source+Qn.source,et=/^(\d{2}):?(\d{2}):?(\d{2})(\.\d+)?/.source+Qn.source;function nt(e,n,t){this.dayNumber=void 0,this.secondsOfDay=void 0,e=A.defaultValue(e,0),n=A.defaultValue(n,0),t=A.defaultValue(t,qn.UTC);var a=0|e;jn(a,n+=(e-a)*Un.SECONDS_PER_DAY,this),t===qn.UTC&&Bn(this)}nt.fromGregorianDate=function(e,n){var t=Yn(e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond);return A.defined(n)?(jn(t[0],t[1],n),Bn(n),n):new nt(t[0],t[1],qn.UTC)},nt.fromDate=function(e,n){var t=Yn(e.getUTCFullYear(),e.getUTCMonth()+1,e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds());return A.defined(n)?(jn(t[0],t[1],n),Bn(n),n):new nt(t[0],t[1],qn.UTC)},nt.fromIso8601=function(e,n){var t,a,r,i,s=(e=e.replace(",",".")).split("T"),u=1,o=1,l=0,d=0,c=0,f=0,m=s[0],h=s[1];if(null!==(s=m.match(Hn)))t=+s[1],u=+s[2],o=+s[3];else if(null!==(s=m.match(Gn)))t=+s[1],u=+s[2];else if(null!==(s=m.match(Zn)))t=+s[1];else{var y;if(null!==(s=m.match(Xn)))t=+s[1],y=+s[2],r=Pn(t);else if(null!==(s=m.match(Jn)))t=+s[1],y=7*+s[2]+(+s[3]||0)-new Date(Date.UTC(t,0,4)).getUTCDay()-3;(a=new Date(Date.UTC(t,0,1))).setUTCDate(y),u=a.getUTCMonth()+1,o=a.getUTCDate()}if(r=Pn(t),A.defined(h)){null!==(s=h.match(et))?(l=+s[1],d=+s[2],c=+s[3],f=1e3*+(s[4]||0),i=5):null!==(s=h.match(Kn))?(l=+s[1],d=+s[2],c=60*+(s[3]||0),i=4):null!==(s=h.match($n))&&(l=+s[1],d=60*+(s[2]||0),i=3);var p=s[i],C=+s[i+1],w=+(s[i+2]||0);switch(p){case"+":l-=C,d-=w;break;case"-":l+=C,d+=w;break;case"Z":break;default:d+=new Date(Date.UTC(t,u-1,o,l,d)).getTimezoneOffset()}}var x=60===c;for(x&&c--;60<=d;)d-=60,l++;for(;24<=l;)l-=24,o++;for(a=r&&2===u?29:Vn[u-1];a<o;)o-=a,12<++u&&(u-=12,t++),a=r&&2===u?29:Vn[u-1];for(;d<0;)d+=60,l--;for(;l<0;)l+=24,o--;for(;o<1;)--u<1&&(u+=12,t--),o+=a=r&&2===u?29:Vn[u-1];var v=Yn(t,u,o,l,d,c,f);return A.defined(n)?(jn(v[0],v[1],n),Bn(n)):n=new nt(v[0],v[1],qn.UTC),x&&nt.addSeconds(n,1,n),n},nt.now=function(e){return nt.fromDate(new Date,e)};var tt=new nt(0,0,qn.TAI);function at(e){if(e=A.defaultValue(e,A.defaultValue.EMPTY_OBJECT),this._dates=void 0,this._samples=void 0,this._dateColumn=-1,this._xPoleWanderRadiansColumn=-1,this._yPoleWanderRadiansColumn=-1,this._ut1MinusUtcSecondsColumn=-1,this._xCelestialPoleOffsetRadiansColumn=-1,this._yCelestialPoleOffsetRadiansColumn=-1,this._taiMinusUtcSecondsColumn=-1,this._columnCount=0,this._lastIndex=-1,this._downloadPromise=void 0,this._dataError=void 0,this._addNewLeapSeconds=A.defaultValue(e.addNewLeapSeconds,!0),A.defined(e.data))it(this,e.data);else if(A.defined(e.url)){var n=l.Resource.createIfNeeded(e.url),t=this;this._downloadPromise=n.fetchJson().then(function(e){it(t,e)}).otherwise(function(){t._dataError="An error occurred while retrieving the EOP data from the URL "+n.url+"."})}else it(this,{columnNames:["dateIso8601","modifiedJulianDateUtc","xPoleWanderRadians","yPoleWanderRadians","ut1MinusUtcSeconds","lengthOfDayCorrectionSeconds","xCelestialPoleOffsetRadians","yCelestialPoleOffsetRadians","taiMinusUtcSeconds"],samples:[]})}function rt(e,n){return nt.compare(e.julianDate,n)}function it(e,n){if(A.defined(n.columnNames))if(A.defined(n.samples)){var t=n.columnNames.indexOf("modifiedJulianDateUtc"),a=n.columnNames.indexOf("xPoleWanderRadians"),r=n.columnNames.indexOf("yPoleWanderRadians"),i=n.columnNames.indexOf("ut1MinusUtcSeconds"),s=n.columnNames.indexOf("xCelestialPoleOffsetRadians"),u=n.columnNames.indexOf("yCelestialPoleOffsetRadians"),o=n.columnNames.indexOf("taiMinusUtcSeconds");if(t<0||a<0||r<0||i<0||s<0||u<0||o<0)e._dataError="Error in loaded EOP data: The columnNames property must include modifiedJulianDateUtc, xPoleWanderRadians, yPoleWanderRadians, ut1MinusUtcSeconds, xCelestialPoleOffsetRadians, yCelestialPoleOffsetRadians, and taiMinusUtcSeconds columns";else{var l,d=e._samples=n.samples,c=e._dates=[];e._dateColumn=t,e._xPoleWanderRadiansColumn=a,e._yPoleWanderRadiansColumn=r,e._ut1MinusUtcSecondsColumn=i,e._xCelestialPoleOffsetRadiansColumn=s,e._yCelestialPoleOffsetRadiansColumn=u,e._taiMinusUtcSecondsColumn=o,e._columnCount=n.columnNames.length,e._lastIndex=void 0;for(var f=e._addNewLeapSeconds,m=0,h=d.length;m<h;m+=e._columnCount){var y=d[m+t],p=d[m+o],C=new nt(y+Un.MODIFIED_JULIAN_DATE_DIFFERENCE,p,qn.TAI);if(c.push(C),f){if(p!==l&&A.defined(l)){var w=nt.leapSeconds,x=bn(w,C,rt);if(x<0){var v=new Dn(C,p);w.splice(~x,0,v)}}l=p}}}}else e._dataError="Error in loaded EOP data: The samples property is required.";else e._dataError="Error in loaded EOP data: The columnNames property is required."}function st(e,n,t,a,r){var i=t*a;r.xPoleWander=n[i+e._xPoleWanderRadiansColumn],r.yPoleWander=n[i+e._yPoleWanderRadiansColumn],r.xPoleOffset=n[i+e._xCelestialPoleOffsetRadiansColumn],r.yPoleOffset=n[i+e._yCelestialPoleOffsetRadiansColumn],r.ut1MinusUtc=n[i+e._ut1MinusUtcSecondsColumn]}function ut(e,n,t){return n+e*(t-n)}function ot(e,n,t,a,r,i,s){var u=e._columnCount;if(i>n.length-1)return s.xPoleWander=0,s.yPoleWander=0,s.xPoleOffset=0,s.yPoleOffset=0,s.ut1MinusUtc=0,s;var o=n[r],l=n[i];if(o.equals(l)||a.equals(o))return st(e,t,r,u,s),s;if(a.equals(l))return st(e,t,i,u,s),s;var d=nt.secondsDifference(a,o)/nt.secondsDifference(l,o),c=r*u,f=i*u,m=t[c+e._ut1MinusUtcSecondsColumn],h=t[f+e._ut1MinusUtcSecondsColumn],y=h-m;if(.5<y||y<-.5){var p=t[c+e._taiMinusUtcSecondsColumn],C=t[f+e._taiMinusUtcSecondsColumn];p!==C&&(l.equals(a)?m=h:h-=C-p)}return s.xPoleWander=ut(d,t[c+e._xPoleWanderRadiansColumn],t[f+e._xPoleWanderRadiansColumn]),s.yPoleWander=ut(d,t[c+e._yPoleWanderRadiansColumn],t[f+e._yPoleWanderRadiansColumn]),s.xPoleOffset=ut(d,t[c+e._xCelestialPoleOffsetRadiansColumn],t[f+e._xCelestialPoleOffsetRadiansColumn]),s.yPoleOffset=ut(d,t[c+e._yCelestialPoleOffsetRadiansColumn],t[f+e._yCelestialPoleOffsetRadiansColumn]),s.ut1MinusUtc=ut(d,m,h),s}function lt(e,n,t){this.heading=A.defaultValue(e,0),this.pitch=A.defaultValue(n,0),this.roll=A.defaultValue(t,0)}function dt(e,n,t){this.x=e,this.y=n,this.s=t}function ct(e){e=A.defaultValue(e,A.defaultValue.EMPTY_OBJECT),this._xysFileUrlTemplate=l.Resource.createIfNeeded(e.xysFileUrlTemplate),this._interpolationOrder=A.defaultValue(e.interpolationOrder,9),this._sampleZeroJulianEphemerisDate=A.defaultValue(e.sampleZeroJulianEphemerisDate,2442396.5),this._sampleZeroDateTT=new nt(this._sampleZeroJulianEphemerisDate,0,qn.TAI),this._stepSizeDays=A.defaultValue(e.stepSizeDays,1),this._samplesPerXysFile=A.defaultValue(e.samplesPerXysFile,1e3),this._totalSamples=A.defaultValue(e.totalSamples,27426),this._samples=new Array(3*this._totalSamples),this._chunkDownloadsInProgress=[];for(var n=this._interpolationOrder,t=this._denominators=new Array(n+1),a=this._xTable=new Array(n+1),r=Math.pow(this._stepSizeDays,n),i=0;i<=n;++i){t[i]=r,a[i]=i*this._stepSizeDays;for(var s=0;s<=n;++s)s!==i&&(t[i]*=i-s);t[i]=1/t[i]}this._work=new Array(n+1),this._coef=new Array(n+1)}nt.toGregorianDate=function(e,n){var t=!1,a=kn(e,tt);A.defined(a)||(nt.addSeconds(e,-1,tt),a=kn(tt,tt),t=!0);var r=a.dayNumber,i=a.secondsOfDay;43200<=i&&(r+=1);var s=r+68569|0,u=4*s/146097|0,o=4e3*((s=s-((146097*u+3)/4|0)|0)+1)/1461001|0,l=80*(s=s-(1461*o/4|0)+31|0)/2447|0,d=s-(2447*l/80|0)|0,c=2+l-12*(s=l/11|0)|0,f=100*(u-49)+o+s|0,m=i/Un.SECONDS_PER_HOUR|0,h=i-m*Un.SECONDS_PER_HOUR,y=h/Un.SECONDS_PER_MINUTE|0,p=0|(h-=y*Un.SECONDS_PER_MINUTE),C=(h-p)/Un.SECONDS_PER_MILLISECOND;return 23<(m+=12)&&(m-=24),t&&(p+=1),A.defined(n)?(n.year=f,n.month=c,n.day=d,n.hour=m,n.minute=y,n.second=p,n.millisecond=C,n.isLeapSecond=t,n):new An(f,c,d,m,y,p,C,t)},nt.toDate=function(e){var n=nt.toGregorianDate(e,Fn),t=n.second;return n.isLeapSecond&&(t-=1),new Date(Date.UTC(n.year,n.month-1,n.day,n.hour,n.minute,t,n.millisecond))},nt.toIso8601=function(e,n){var t=nt.toGregorianDate(e,Fn),a=t.year,r=t.month,i=t.day,s=t.hour,u=t.minute,o=t.second,l=t.millisecond;return 1e4===a&&1===r&&1===i&&0===s&&0===u&&0===o&&0===l&&(a=9999,r=12,i=31,s=24),A.defined(n)||0===l?A.defined(n)&&0!==n?In("%04d-%02d-%02dT%02d:%02d:%02d.%sZ",a,r,i,s,u,o,(.01*l).toFixed(n).replace(".","").slice(0,n)):In("%04d-%02d-%02dT%02d:%02d:%02dZ",a,r,i,s,u,o):In("%04d-%02d-%02dT%02d:%02d:%02d.%sZ",a,r,i,s,u,o,(.01*l).toString().replace(".",""))},nt.clone=function(e,n){if(A.defined(e))return A.defined(n)?(n.dayNumber=e.dayNumber,n.secondsOfDay=e.secondsOfDay,n):new nt(e.dayNumber,e.secondsOfDay,qn.TAI)},nt.compare=function(e,n){var t=e.dayNumber-n.dayNumber;return 0!=t?t:e.secondsOfDay-n.secondsOfDay},nt.equals=function(e,n){return e===n||A.defined(e)&&A.defined(n)&&e.dayNumber===n.dayNumber&&e.secondsOfDay===n.secondsOfDay},nt.equalsEpsilon=function(e,n,t){return t=A.defaultValue(t,0),e===n||A.defined(e)&&A.defined(n)&&Math.abs(nt.secondsDifference(e,n))<=t},nt.totalDays=function(e){return e.dayNumber+e.secondsOfDay/Un.SECONDS_PER_DAY},nt.secondsDifference=function(e,n){return(e.dayNumber-n.dayNumber)*Un.SECONDS_PER_DAY+(e.secondsOfDay-n.secondsOfDay)},nt.daysDifference=function(e,n){return e.dayNumber-n.dayNumber+(e.secondsOfDay-n.secondsOfDay)/Un.SECONDS_PER_DAY},nt.computeTaiMinusUtc=function(e){Ln.julianDate=e;var n=nt.leapSeconds,t=bn(n,Ln,Wn);return t<0&&(t=~t,--t<0&&(t=0)),n[t].offset},nt.addSeconds=function(e,n,t){return jn(e.dayNumber,e.secondsOfDay+n,t)},nt.addMinutes=function(e,n,t){var a=e.secondsOfDay+n*Un.SECONDS_PER_MINUTE;return jn(e.dayNumber,a,t)},nt.addHours=function(e,n,t){var a=e.secondsOfDay+n*Un.SECONDS_PER_HOUR;return jn(e.dayNumber,a,t)},nt.addDays=function(e,n,t){return jn(e.dayNumber+n,e.secondsOfDay,t)},nt.lessThan=function(e,n){return nt.compare(e,n)<0},nt.lessThanOrEquals=function(e,n){return nt.compare(e,n)<=0},nt.greaterThan=function(e,n){return 0<nt.compare(e,n)},nt.greaterThanOrEquals=function(e,n){return 0<=nt.compare(e,n)},nt.prototype.clone=function(e){return nt.clone(this,e)},nt.prototype.equals=function(e){return nt.equals(this,e)},nt.prototype.equalsEpsilon=function(e,n){return nt.equalsEpsilon(this,e,n)},nt.prototype.toString=function(){return nt.toIso8601(this)},nt.leapSeconds=[new Dn(new nt(2441317,43210,qn.TAI),10),new Dn(new nt(2441499,43211,qn.TAI),11),new Dn(new nt(2441683,43212,qn.TAI),12),new Dn(new nt(2442048,43213,qn.TAI),13),new Dn(new nt(2442413,43214,qn.TAI),14),new Dn(new nt(2442778,43215,qn.TAI),15),new Dn(new nt(2443144,43216,qn.TAI),16),new Dn(new nt(2443509,43217,qn.TAI),17),new Dn(new nt(2443874,43218,qn.TAI),18),new Dn(new nt(2444239,43219,qn.TAI),19),new Dn(new nt(2444786,43220,qn.TAI),20),new Dn(new nt(2445151,43221,qn.TAI),21),new Dn(new nt(2445516,43222,qn.TAI),22),new Dn(new nt(2446247,43223,qn.TAI),23),new Dn(new nt(2447161,43224,qn.TAI),24),new Dn(new nt(2447892,43225,qn.TAI),25),new Dn(new nt(2448257,43226,qn.TAI),26),new Dn(new nt(2448804,43227,qn.TAI),27),new Dn(new nt(2449169,43228,qn.TAI),28),new Dn(new nt(2449534,43229,qn.TAI),29),new Dn(new nt(2450083,43230,qn.TAI),30),new Dn(new nt(2450630,43231,qn.TAI),31),new Dn(new nt(2451179,43232,qn.TAI),32),new Dn(new nt(2453736,43233,qn.TAI),33),new Dn(new nt(2454832,43234,qn.TAI),34),new Dn(new nt(2456109,43235,qn.TAI),35),new Dn(new nt(2457204,43236,qn.TAI),36),new Dn(new nt(2457754,43237,qn.TAI),37)],at.NONE=Object.freeze({getPromiseToLoad:function(){return A.when.resolve()},compute:function(e,n){return A.defined(n)?(n.xPoleWander=0,n.yPoleWander=0,n.xPoleOffset=0,n.yPoleOffset=0,n.ut1MinusUtc=0):n=new Nn(0,0,0,0,0),n}}),at.prototype.getPromiseToLoad=function(){return A.when(this._downloadPromise)},at.prototype.compute=function(e,n){if(A.defined(this._samples)){if(A.defined(n)||(n=new Nn(0,0,0,0,0)),0===this._samples.length)return n.xPoleWander=0,n.yPoleWander=0,n.xPoleOffset=0,n.yPoleOffset=0,n.ut1MinusUtc=0,n;var t=this._dates,a=this._lastIndex,r=0,i=0;if(A.defined(a)){var s=t[a],u=t[a+1],o=nt.lessThanOrEquals(s,e),l=!A.defined(u),d=l||nt.greaterThanOrEquals(u,e);if(o&&d)return r=a,!l&&u.equals(e)&&++r,i=r+1,ot(this,t,this._samples,e,r,i,n),n}var c=bn(t,e,nt.compare,this._dateColumn);return 0<=c?(c<t.length-1&&t[c+1].equals(e)&&++c,i=r=c):(r=(i=~c)-1)<0&&(r=0),this._lastIndex=r,ot(this,t,this._samples,e,r,i,n),n}if(A.defined(this._dataError))throw new X.RuntimeError(this._dataError)},lt.fromQuaternion=function(e,n){A.defined(n)||(n=new lt);var t=2*(e.w*e.y-e.z*e.x),a=1-2*(e.x*e.x+e.y*e.y),r=2*(e.w*e.x+e.y*e.z),i=1-2*(e.y*e.y+e.z*e.z),s=2*(e.w*e.z+e.x*e.y);return n.heading=-Math.atan2(s,i),n.roll=Math.atan2(r,a),n.pitch=-G.CesiumMath.asinClamped(t),n},lt.fromDegrees=function(e,n,t,a){return A.defined(a)||(a=new lt),a.heading=e*G.CesiumMath.RADIANS_PER_DEGREE,a.pitch=n*G.CesiumMath.RADIANS_PER_DEGREE,a.roll=t*G.CesiumMath.RADIANS_PER_DEGREE,a},lt.clone=function(e,n){if(A.defined(e))return A.defined(n)?(n.heading=e.heading,n.pitch=e.pitch,n.roll=e.roll,n):new lt(e.heading,e.pitch,e.roll)},lt.equals=function(e,n){return e===n||A.defined(e)&&A.defined(n)&&e.heading===n.heading&&e.pitch===n.pitch&&e.roll===n.roll},lt.equalsEpsilon=function(e,n,t,a){return e===n||A.defined(e)&&A.defined(n)&&G.CesiumMath.equalsEpsilon(e.heading,n.heading,t,a)&&G.CesiumMath.equalsEpsilon(e.pitch,n.pitch,t,a)&&G.CesiumMath.equalsEpsilon(e.roll,n.roll,t,a)},lt.prototype.clone=function(e){return lt.clone(this,e)},lt.prototype.equals=function(e){return lt.equals(this,e)},lt.prototype.equalsEpsilon=function(e,n,t){return lt.equalsEpsilon(this,e,n,t)},lt.prototype.toString=function(){return"("+this.heading+", "+this.pitch+", "+this.roll+")"};var ft=new nt(0,0,qn.TAI);function mt(e,n,t){var a=ft;return a.dayNumber=n,a.secondsOfDay=t,nt.daysDifference(a,e._sampleZeroDateTT)}function ht(s,u){if(s._chunkDownloadsInProgress[u])return s._chunkDownloadsInProgress[u];var e,o=A.when.defer();s._chunkDownloadsInProgress[u]=o;var n=s._xysFileUrlTemplate;return e=A.defined(n)?n.getDerivedResource({templateValues:{0:u}}):new l.Resource({url:l.buildModuleUrl("Assets/IAU2006_XYS/IAU2006_XYS_"+u+".json")}),A.when(e.fetchJson(),function(e){s._chunkDownloadsInProgress[u]=!1;for(var n=s._samples,t=e.samples,a=u*s._samplesPerXysFile*3,r=0,i=t.length;r<i;++r)n[a+r]=t[r];o.resolve()}),o.promise}ct.prototype.preload=function(e,n,t,a){var r=mt(this,e,n),i=mt(this,t,a),s=r/this._stepSizeDays-this._interpolationOrder/2|0;s<0&&(s=0);var u=i/this._stepSizeDays-this._interpolationOrder/2|0+this._interpolationOrder;u>=this._totalSamples&&(u=this._totalSamples-1);for(var o=s/this._samplesPerXysFile|0,l=u/this._samplesPerXysFile|0,d=[],c=o;c<=l;++c)d.push(ht(this,c));return A.when.all(d)},ct.prototype.computeXysRadians=function(e,n,t){var a=mt(this,e,n);if(!(a<0)){var r=a/this._stepSizeDays|0;if(!(r>=this._totalSamples)){var i=this._interpolationOrder,s=r-(i/2|0);s<0&&(s=0);var u=s+i;u>=this._totalSamples&&(s=(u=this._totalSamples-1)-i)<0&&(s=0);var o=!1,l=this._samples;if(A.defined(l[3*s])||(ht(this,s/this._samplesPerXysFile|0),o=!0),A.defined(l[3*u])||(ht(this,u/this._samplesPerXysFile|0),o=!0),!o){A.defined(t)?(t.x=0,t.y=0,t.s=0):t=new dt(0,0,0);var d,c,f=a-s*this._stepSizeDays,m=this._work,h=this._denominators,y=this._coef,p=this._xTable;for(d=0;d<=i;++d)m[d]=f-p[d];for(d=0;d<=i;++d){for(y[d]=1,c=0;c<=i;++c)c!==d&&(y[d]*=m[c]);y[d]*=h[d];var C=3*(s+d);t.x+=y[d]*l[C++],t.y+=y[d]*l[C++],t.s+=y[d]*l[C]}return t}}}};var yt={},pt={up:{south:"east",north:"west",west:"south",east:"north"},down:{south:"west",north:"east",west:"north",east:"south"},south:{up:"west",down:"east",west:"down",east:"up"},north:{up:"east",down:"west",west:"up",east:"down"},west:{up:"north",down:"south",north:"down",south:"up"},east:{up:"south",down:"north",north:"up",south:"down"}},Ct={north:[-1,0,0],east:[0,1,0],up:[0,0,1],south:[1,0,0],west:[0,-1,0],down:[0,0,-1]},wt={},xt={east:new P.Cartesian3,north:new P.Cartesian3,up:new P.Cartesian3,west:new P.Cartesian3,south:new P.Cartesian3,down:new P.Cartesian3},vt=new P.Cartesian3,gt=new P.Cartesian3,Et=new P.Cartesian3;yt.localFrameToFixedFrameGenerator=function(s,u){if(!pt.hasOwnProperty(s)||!pt[s].hasOwnProperty(u))throw new i.DeveloperError("firstAxis and secondAxis must be east, north, up, west, south or down.");var e,o=pt[s][u],n=s+u;return A.defined(wt[n])?e=wt[n]:(e=function(e,n,t){if(A.defined(t)||(t=new Q),P.Cartesian3.equalsEpsilon(e,P.Cartesian3.ZERO,G.CesiumMath.EPSILON14))P.Cartesian3.unpack(Ct[s],0,vt),P.Cartesian3.unpack(Ct[u],0,gt),P.Cartesian3.unpack(Ct[o],0,Et);else if(G.CesiumMath.equalsEpsilon(e.x,0,G.CesiumMath.EPSILON14)&&G.CesiumMath.equalsEpsilon(e.y,0,G.CesiumMath.EPSILON14)){var a=G.CesiumMath.sign(e.z);P.Cartesian3.unpack(Ct[s],0,vt),"east"!==s&&"west"!==s&&P.Cartesian3.multiplyByScalar(vt,a,vt),P.Cartesian3.unpack(Ct[u],0,gt),"east"!==u&&"west"!==u&&P.Cartesian3.multiplyByScalar(gt,a,gt),P.Cartesian3.unpack(Ct[o],0,Et),"east"!==o&&"west"!==o&&P.Cartesian3.multiplyByScalar(Et,a,Et)}else{(n=A.defaultValue(n,P.Ellipsoid.WGS84)).geodeticSurfaceNormal(e,xt.up);var r=xt.up,i=xt.east;i.x=-e.y,i.y=e.x,i.z=0,P.Cartesian3.normalize(i,xt.east),P.Cartesian3.cross(r,i,xt.north),P.Cartesian3.multiplyByScalar(xt.up,-1,xt.down),P.Cartesian3.multiplyByScalar(xt.east,-1,xt.west),P.Cartesian3.multiplyByScalar(xt.north,-1,xt.south),vt=xt[s],gt=xt[u],Et=xt[o]}return t[0]=vt.x,t[1]=vt.y,t[2]=vt.z,t[3]=0,t[4]=gt.x,t[5]=gt.y,t[6]=gt.z,t[7]=0,t[8]=Et.x,t[9]=Et.y,t[10]=Et.z,t[11]=0,t[12]=e.x,t[13]=e.y,t[14]=e.z,t[15]=1,t},wt[n]=e),e},yt.eastNorthUpToFixedFrame=yt.localFrameToFixedFrameGenerator("east","north"),yt.northEastDownToFixedFrame=yt.localFrameToFixedFrameGenerator("north","east"),yt.northUpEastToFixedFrame=yt.localFrameToFixedFrameGenerator("north","up"),yt.northWestUpToFixedFrame=yt.localFrameToFixedFrameGenerator("north","west");var Mt=new Ke,Ot=new P.Cartesian3(1,1,1),zt=new Q;yt.headingPitchRollToFixedFrame=function(e,n,t,a,r){a=A.defaultValue(a,yt.eastNorthUpToFixedFrame);var i=Ke.fromHeadingPitchRoll(n,Mt),s=Q.fromTranslationQuaternionRotationScale(P.Cartesian3.ZERO,i,Ot,zt);return r=a(e,t,r),Q.multiply(r,s,r)};var St=new Q,_t=new J;yt.headingPitchRollQuaternion=function(e,n,t,a,r){var i=yt.headingPitchRollToFixedFrame(e,n,t,a,St),s=Q.getMatrix3(i,_t);return Ke.fromRotationMatrix(s,r)};var Tt=new P.Cartesian3(1,1,1),Rt=new P.Cartesian3,bt=new Q,Nt=new Q,It=new J,At=new Ke;yt.fixedFrameToHeadingPitchRoll=function(e,n,t,a){n=A.defaultValue(n,P.Ellipsoid.WGS84),t=A.defaultValue(t,yt.eastNorthUpToFixedFrame),A.defined(a)||(a=new lt);var r=Q.getTranslation(e,Rt);if(P.Cartesian3.equals(r,P.Cartesian3.ZERO))return a.heading=0,a.pitch=0,a.roll=0,a;var i=Q.inverseTransformation(t(r,n,bt),bt),s=Q.setScale(e,Tt,Nt);s=Q.setTranslation(s,P.Cartesian3.ZERO,s),i=Q.multiply(i,s,i);var u=Ke.fromRotationMatrix(Q.getMatrix3(i,It),At);return u=Ke.normalize(u,u),lt.fromQuaternion(u,a)};var Pt=G.CesiumMath.TWO_PI/86400,Dt=new nt;yt.computeTemeToPseudoFixedMatrix=function(e,n){var t,a=(Dt=nt.addSeconds(e,-nt.computeTaiMinusUtc(e),Dt)).dayNumber,r=Dt.secondsOfDay,i=a-2451545,s=(24110.54841+(t=43200<=r?(.5+i)/Un.DAYS_PER_JULIAN_CENTURY:(i-.5)/Un.DAYS_PER_JULIAN_CENTURY)*(8640184.812866+t*(.093104+-62e-7*t)))*Pt%G.CesiumMath.TWO_PI+(72921158553e-15+11772758384668e-32*(a-2451545.5))*((r+.5*Un.SECONDS_PER_DAY)%Un.SECONDS_PER_DAY),u=Math.cos(s),o=Math.sin(s);return A.defined(n)?(n[0]=u,n[1]=-o,n[2]=0,n[3]=o,n[4]=u,n[5]=0,n[6]=0,n[7]=0,n[8]=1,n):new J(u,o,0,-o,u,0,0,0,1)},yt.iau2006XysData=new ct,yt.earthOrientationParameters=at.NONE;var Ut=32.184;yt.preloadIcrfFixed=function(e){var n=e.start.dayNumber,t=e.start.secondsOfDay+Ut,a=e.stop.dayNumber,r=e.stop.secondsOfDay+Ut,i=yt.iau2006XysData.preload(n,t,a,r),s=yt.earthOrientationParameters.getPromiseToLoad();return A.when.all([i,s])},yt.computeIcrfToFixedMatrix=function(e,n){A.defined(n)||(n=new J);var t=yt.computeFixedToIcrfMatrix(e,n);if(A.defined(t))return J.transpose(t,n)};var qt=new dt(0,0,0),Ft=new Nn(0,0,0,0,0,0),Vt=new J,Wt=new J;yt.computeFixedToIcrfMatrix=function(e,n){A.defined(n)||(n=new J);var t=yt.earthOrientationParameters.compute(e,Ft);if(A.defined(t)){var a=e.dayNumber,r=e.secondsOfDay+Ut,i=yt.iau2006XysData.computeXysRadians(a,r,qt);if(A.defined(i)){var s=i.x+t.xPoleOffset,u=i.y+t.yPoleOffset,o=1/(1+Math.sqrt(1-s*s-u*u)),l=Vt;l[0]=1-o*s*s,l[3]=-o*s*u,l[6]=s,l[1]=-o*s*u,l[4]=1-o*u*u,l[7]=u,l[2]=-s,l[5]=-u,l[8]=1-o*(s*s+u*u);var d=J.fromRotationZ(-i.s,Wt),c=J.multiply(l,d,Vt),f=e.dayNumber-2451545,m=(e.secondsOfDay-nt.computeTaiMinusUtc(e)+t.ut1MinusUtc)/Un.SECONDS_PER_DAY,h=.779057273264+m+.00273781191135448*(f+m);h=h%1*G.CesiumMath.TWO_PI;var y=J.fromRotationZ(h,Wt),p=J.multiply(c,y,Vt),C=Math.cos(t.xPoleWander),w=Math.cos(t.yPoleWander),x=Math.sin(t.xPoleWander),v=Math.sin(t.yPoleWander),g=a-2451545+r/Un.SECONDS_PER_DAY,E=-47e-6*(g/=36525)*G.CesiumMath.RADIANS_PER_DEGREE/3600,M=Math.cos(E),O=Math.sin(E),z=Wt;return z[0]=C*M,z[1]=C*O,z[2]=x,z[3]=-w*O+v*x*M,z[4]=w*M+v*x*O,z[5]=-v*C,z[6]=-v*O-w*x*M,z[7]=v*M-w*x*O,z[8]=w*C,J.multiply(p,z,n)}}};var Lt=new H;yt.pointToWindowCoordinates=function(e,n,t,a){return(a=yt.pointToGLWindowCoordinates(e,n,t,a)).y=2*n[5]-a.y,a},yt.pointToGLWindowCoordinates=function(e,n,t,a){A.defined(a)||(a=new P.Cartesian2);var r=Lt;return Q.multiplyByVector(e,H.fromElements(t.x,t.y,t.z,1,r),r),H.multiplyByScalar(r,1/r.w,r),Q.multiplyByVector(n,r,r),P.Cartesian2.fromCartesian4(r,a)};var Bt=new P.Cartesian3,kt=new P.Cartesian3,jt=new P.Cartesian3;yt.rotationMatrixFromPositionVelocity=function(e,n,t,a){var r=A.defaultValue(t,P.Ellipsoid.WGS84).geodeticSurfaceNormal(e,Bt),i=P.Cartesian3.cross(n,r,kt);P.Cartesian3.equalsEpsilon(i,P.Cartesian3.ZERO,G.CesiumMath.EPSILON6)&&(i=P.Cartesian3.clone(P.Cartesian3.UNIT_X,i));var s=P.Cartesian3.cross(i,n,jt);return P.Cartesian3.normalize(s,s),P.Cartesian3.cross(n,s,i),P.Cartesian3.negate(i,i),P.Cartesian3.normalize(i,i),A.defined(a)||(a=new J),a[0]=n.x,a[1]=n.y,a[2]=n.z,a[3]=i.x,a[4]=i.y,a[5]=i.z,a[6]=s.x,a[7]=s.y,a[8]=s.z,a};var Yt=new Q(0,0,1,0,1,0,0,0,0,1,0,0,0,0,0,1),Zt=new P.Cartographic,Gt=new P.Cartesian3,Xt=new P.Cartesian3,Jt=new J,Ht=new Q,Qt=new Q;yt.basisTo2D=function(e,n,t){var a=Q.getTranslation(n,Xt),r=e.ellipsoid,i=r.cartesianToCartographic(a,Zt),s=e.project(i,Gt);P.Cartesian3.fromElements(s.z,s.x,s.y,s);var u=yt.eastNorthUpToFixedFrame(a,r,Ht),o=Q.inverseTransformation(u,Qt),l=Q.getMatrix3(n,Jt),d=Q.multiplyByMatrix3(o,l,t);return Q.multiply(Yt,d,t),Q.setTranslation(t,s,t),t},yt.wgs84To2DModelMatrix=function(e,n,t){var a=e.ellipsoid,r=yt.eastNorthUpToFixedFrame(n,a,Ht),i=Q.inverseTransformation(r,Qt),s=a.cartesianToCartographic(n,Zt),u=e.project(s,Gt);P.Cartesian3.fromElements(u.z,u.x,u.y,u);var o=Q.fromTranslation(u,Ht);return Q.multiply(Yt,i,t),Q.multiply(o,t,t),t},e.BoundingSphere=D,e.Cartesian4=H,e.FeatureDetection=$e,e.GeographicProjection=n,e.Intersect=s,e.Interval=u,e.Matrix3=J,e.Matrix4=Q,e.Quaternion=Ke,e.Transforms=yt});
